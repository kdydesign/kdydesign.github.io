
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Dev. DY">
    <title>Vanilla JS에서 SPA 라우팅 시스템 구현하기 - Dev. DY</title>
    <meta name="author" content="Dev. DY">

    <!--ADSENSE-->
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-3611154972292213",
        enable_page_level_ads: true
      });
    </script>
     <!--STYLES END-->

    <link rel="canonical" href="https://kdydesign.github.io/2020/10/06/spa-route-tutorial/"/>
    
        <meta name="keywords" content="javascript,nodejs,vanilla js,vanilla js router,spa routing,spa route,spa router,vanilla js spa router,hashchange,window.history.pushState,popstate,pushState">
    
    
        <link rel="icon" href="https://kdydesign.github.io/assets/images/favicon.ico">
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Dev. DY","sameAs":["https://github.com/kdydesign","mailto:kdydesign@gmail.com"],"image":"auth2.png"},"articleBody":"\n\n\n\nvanilla js를 제외하고 vue, react, angular와 같은 프레임워크를 사용할 땐 우리는 vue-route, react-router와 같은 Third Party 라이브러리를 많이 사용한다.그렇기 때문에 어떤 프로젝트를 하더라도 SPA (Single Page Application)에서 라우팅을 구현할 일이 없다. 그러므로 인해 라우팅을 구현해 보라는 과제를 준다면 해결하기 쉽지 않다.애플리케이션에서 일부를 차지하는 컴포넌트가 아닌 애플리케이션 전체를 구동, 조작되어야하는 하나의 코어이기 때문이다. 이런 Third Party 시스템을 구현할 때에는 개념과 설계, 구현의 3박자가 정확하게 일치해야 하므로 쉬운 문제는 아닐 것이다.\n이번 포스팅에서는 이런 경험을 바탕으로 앞으로 같은 문제를 겪는 개발자에게 도움이 되고자 Vanilla js를 사용하여 SPA (Single Page Application)에서 Routing 시스템을 구현하는 방법을 적어보자 한다.\n\nSPA RoutingSPA는 Single Page Application으로 Front-End 개발자라면 대부분 아는 아키텍쳐이다. 또한 SPA하면 빠질 수 없는 게 라우팅 개념이다.SPA가 널리 퍼지기 전에는 사용자가 새 페이지를 탐색하기 위해서는 해당 페이지의 문서를 서버에 요청해야 한다.이로 인해서 웹 사이트가 다시 로드되어 요청된 콘텐츠가 최종적으로 페이지에 렌더링 된다. 이런 과정에서 페이지가 렌더링 되기 전에 사용자는 항상 몇 초 동안 빈 화면을 응시할 수밖에 없었다.\n최신 웹 페이지는 이런 빈 화면에 대한 시간을 줄이기 위해 라우팅과 함께 SPA (Single Page Application)를 사용한다. 위에서 언급했듯이 vue, react, angular와 같은 많은 프레임워크가 SPA가 사용자 경험을 가져다주는 이점으로 인해 라우팅을 권장하고 많은 Third Party 용 라우팅이 개발되었다.\n이 라우팅으로 인해 사용자는 새 콘텐츠가 필요할 때마다 서버에 요청할 필요가 없다. 초기 애플리케이션을 로드할 때 모든 웹 사이트 콘텐츠를 로드하고 URL 경로 이름에 따라 페이지에 올바른 콘텐츠를 동적으로 표현한다.애플리케이션은 URL 경로의 이름을 분석하고 이 이름과 관련된 콘텐츠를 분석한다. 콘텐츠는 서버가 아닌 메모리에 저장되기 때문에 애플리케이션 내에서 페이지를 스와핑하기 때문에 사용자는 빈 화면을 볼 수 없는 것이다.\nSPA 라우팅을 구현하는 방법에 있어서는 두 가지 방법이 있다.\n\n1. history (Browser History)를 사용한 방법\n2. hash (Hash History)를 사용한 방법\n\n두 차이점은 아래와 같다.\n\nhistory (BrowserHistory) - history.pushState API를 활용하여 페이지를 다시 로드하지 않고 URL을 탐색 할 수 있다.\nhash (HashHistory) - url 해쉬를 사용하여 전체 url을 시뮬레이트하게되며, url이 변경될 때 페이지가 다시 로드되지 않는다. 보통 url에 #이 붙는다.\n\n \n\nhistory를 사용하는 방법 (Browser History Mode)history를 사용한 방법은 history라는 API를 사용하는 방법이며, 가장 보편적인 방법이다.\nhistory API의 pushstate와 window 객체의 popstate 이벤트를 이용하는데 history.pushState를 통하여 새 데이터 전달을 위한 상태, 제목, url을 지정할 수 있다.\nwindow.history.pushState(&#123; data: &#x27;some data&#x27; &#125;,&#x27;Some history entry title&#x27;, &#x27;/some-path&#x27;)\n\nwindow.onpopstate = () =&gt; &#123;  appDiv.innerHTML = routes[window.location.pathname]&#125;\n\nBrowser History의 url의 형태는 site/some-path와 같이 표현되지만 이 방법은 서버 측 지원이 일부 필요하다. 예를 들어 http://domain.com/site/another-path와 같이 존재하지 않는 경로로 접속할 경우 오류를 출력한다. 이런 문제를 해결하고 대체할 url은 서버에서 지정해야 한다.\nhash를 사용하는 방법 (Hash History Mode)hash를 사용하는 방법은 # 앵커를 통해 이동하는 방법으로 site/#some-path와 같이 url이 표현된다. 보통 정적 페이지에서 사용되며 블로그의 주 제목을 클릭 후 앵커 이동 시 url에 #이 붙는 모습을 볼 수 있다.\n현재 url의 hash는 window.location.hash를 통하여 확인 할 수 있으며, 라우팅 시스템을 구축할 경우 이 window.location.hash를 이용하여 라우팅을 변경할 수 있다. hash가 변경될 때마다 popstate와 같이 hashchange 이벤트가 발생하기 때문에 hashchange를 통하여 라우팅을 변경할 수 있다.\nwindow.addEventListener(&#x27;hashchange&#x27;, () =&gt; &#123;  appDiv.innderHTML = routes[window.location.hash.replace(&#x27;#&#x27;, &#x27;&#x27;)]&#125;)\n\n보통 hash History는 웹 페이지 내부에서 이동을 위할 것으로 history가 관리되지 않는다. 하지만 서버가 없는 정적 페이지 경우에는 hashHistory만으로도 충분하다.\n\n여기까지 SPA 라우팅에 대해 알아보았다. 이제 실제로 위 두 방법인 Browser History와 Hash History를 Vanilla js를 사용하여 직접 원초적으로 구현해보도록 하자.\n여기서 빌드와 로컬 서버는 Webpack을 사용하도록 하겠다.\n환경 구축spa-router-example과 같은 적당한 디렉토리를 생성하고 webpack을 설치하자.\nwebpack에 대해서는 Webpack 개념잡기와 Webpack 완전정복하기!! 포스팅을 참고하자.\nnpm\nnpm i webpack webpack-cli webpack-dev-server -D\n\nyarn\nscriptyarn add webpack webpack-cli webpack-dev-server --dev\n\n기본적인 webpack이 설치되었다면 추가로 아래 항목들도 설치하자. \nwebpack entry를 동적으로 html에 삽입하여 생성하기 위해 HtmlWebpackPlugin과 css를 위한 MiniCssExtractPlugin, 빌드 결과를 주기적으로 제거하기 위하여 CleanWebpackPlugin 역시 설치하자.\n이외에 html Template를 사용하기 위해 HandleBars도 설치하도록 하자.\n추가 설치\n\nclean-webpack-plugin - 빌드 결과물(dist)을 초기화\ncss-loader - css 사용을 위한 로더\nhandlebars - html template를 사용하기 위한 템플릿 엔진\nhandlebars-loader - webpack에서 handlebars를 사용하기 위한 로더\nmini-css-extract-plugin - css 결과물을 내보내기 위한 플러그인\nhtml-webpack-plugin - entry를 html에 동적 삽입과 html 결과물을 내보내기 위한 플러그인\n\n\n\nnpm\nscriptnpm i clean-webpack-plugin css-loader handlebars handlebars-loader mini-css-extract-plugin html-webpack-plugin -D\n\nyarn\nscriptyarn add clean-webpack-plugin css-loader handlebars handlebars-loader mini-css-extract-plugin html-webpack-plugin --dev\n\n모든 설치가 완료되었다면 webpack.config.js 파일을 생성하여 아래와 같이 설정하자.\nwebpack.config.js\nconst HtmlWebpackPlugin = require(&#x27;html-webpack-plugin&#x27;)const MiniCssExtractPlugin = require(&#x27;mini-css-extract-plugin&#x27;)const &#123; CleanWebpackPlugin &#125; = require(&#x27;clean-webpack-plugin&#x27;)const &#123; resolve &#125; = require(&#x27;path&#x27;)module.exports = &#123;  entry: &#123;    router: &#x27;./router.js&#x27;,    app: &#x27;./index.js&#x27;  &#125;,  output: &#123;    path: resolve(__dirname, &#x27;./dist&#x27;),    filename: &#x27;[name].js&#x27;  &#125;,  plugins: [    new HtmlWebpackPlugin(&#123;      filename: &#x27;index.html&#x27;, // output file name      template: &#x27;index.html&#x27;  // template file name    &#125;),    new MiniCssExtractPlugin(&#123; filename: &#x27;app.css&#x27; &#125;),    new CleanWebpackPlugin(&#123;      cleanAfterEveryBuildPatterns: [&#x27;dist&#x27;]    &#125;)  ],  module: &#123;    rules: [      &#123;        test: /\\.hbs$/,        loader: &#x27;handlebars-loader&#x27;      &#125;,      &#123;        test: /\\.css$/,        use: [MiniCssExtractPlugin.loader, &#x27;css-loader&#x27;]      &#125;    ]  &#125;&#125;\n\n다음으로 webpack-dev-server 구동 및 빌드를 할 수 있도록 package.json에 script를 작성하자.\npackage.json\npackage.json&#123;  &quot;scripts&quot;: &#123;    &quot;start&quot;: &quot;webpack-dev-server&quot;,    &quot;build&quot;: &quot;webpack --mode=production&quot;  &#125;&#125;\n\nindex.html 및 각 페이지 생성webpack 설정이 완료되었다면 가장 메인이 되는 index.html을 만들자.\nindex.html\n&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;  &lt;meta charset=&quot;UTF-8&quot;&gt;  &lt;title&gt;spa-router-example&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;!--BrowserHistory--&gt;&lt;div&gt;  &lt;!--Link--&gt;  &lt;div class=&quot;link-container&quot;&gt;    &lt;div class=&quot;link-box&quot;&gt;      &lt;span class=&quot;history&quot; route=&quot;/about&quot;&gt;History About&lt;/span&gt;    &lt;/div&gt;    &lt;div class=&quot;link-box&quot;&gt;      &lt;span class=&quot;history&quot; route=&quot;/home&quot;&gt;History Home&lt;/span&gt;    &lt;/div&gt;  &lt;/div&gt;  &lt;!--Content--&gt;  &lt;div id=&quot;history-app&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;hr/&gt;&lt;!--HashHistory--&gt;&lt;div&gt;  &lt;!--Link--&gt;  &lt;div class=&quot;link-container&quot;&gt;    &lt;div class=&quot;link-box&quot;&gt;      &lt;a class=&quot;hash&quot; href=&quot;#about&quot;&gt;Hash About&lt;/a&gt;    &lt;/div&gt;    &lt;div class=&quot;link-box&quot;&gt;      &lt;a class=&quot;hash&quot; href=&quot;#home&quot;&gt;Hash Home&lt;/a&gt;    &lt;/div&gt;  &lt;/div&gt;  &lt;!--Content--&gt;  &lt;div id=&quot;hash-app&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\n\nindex.html에는 라우팅 변경을 할 수 있는 link와 라우팅에 따라서 템플릿이 삽입된 history-app과 hash-app이 있다. 라우팅 변경에 따라 해당 Content영역에 템플릿이 삽입될 것이다.\n이제 각 라우팅을 위한 about과 home 페이지를 만들자.\n이 파일들은 html이 아닌 Handlebars로 생성할 것이기 때문에 확장자는 .hbs 또는 .handlebars로 생성해야 한다.\n.handlebars 확장자로 생성 시 webpack.config.js에서 handlebars-loader 영역의 정규식을 /\\.handlebars$/로 수정해야 한다.\n\n\n보통 ejs나 handleBars와 같은 템플릿 엔진을 사용하여 라우팅하지만 이게 싫다면 html 파일로 생성 후 html-loader를 사용하여도 무관하다.\npages라는 폴더를 생성하고 하위에 about.hbs와 home.hbs 파일을 생성하자.\npages&#x2F;about.hbs\n&lt;div class=&quot;page&quot;&gt;  &lt;h1&gt;About Page&lt;/h1&gt;&lt;/div&gt;\n\npages&#x2F;home.hbs\n&lt;div class=&quot;page&quot;&gt;  &lt;h1&gt;Home Page&lt;/h1&gt;&lt;/div&gt;\n\n이제 보기 좋도록 style을 생성하자.\ncss 디렉토리를 생성하고 하위에 style.css를 생성하자.\nhr &#123;    margin-top: 50px;&#125;span &#123;    cursor: pointer;    color: blue;    text-decoration: underline;&#125;span:hover &#123;    color: #6a00ff;&#125;.link-container &#123;    text-align: center;&#125;.link-box &#123;    padding: 20px 0px 20px 0px;    display: inline-block;    width: 170px;    height: 50px;    text-align: center;&#125;.page &#123;    width: 50%;    margin: 0 auto;    height: 30vh;    border: 1px solid #4b4b4b;    display: flex;    align-items: center;    justify-content: center;&#125;\n\n라우팅 생성이제 본격적으로 라우팅을 생성해보자.\nrouter.js 파일을 생성하고 아래와 같이 입력하자.\n// templateconst homeTemplate = require(&#x27;./pages/home.hbs&#x27;)const aboutTemplate = require(&#x27;./pages/about.hbs&#x27;)const Home = homeTemplate()const About = aboutTemplate()const routes = &#123;  &#x27;/&#x27;: Home,  &#x27;/home&#x27;: Home,  &#x27;/about&#x27;: About&#125;// entry pointfunction initialRoutes (mode, el) &#123;  renderHTML(el, routes[&#x27;/&#x27;])  if (mode === &#x27;history&#x27;) &#123;    window.onpopstate = () =&gt; renderHTML(el, routes[window.location.pathname])  &#125; else &#123;    window.addEventListener(&#x27;hashchange&#x27;, () =&gt; &#123;      return renderHTML(el, getHashRoute())    &#125;)  &#125;&#125;// set browser historyfunction historyRouterPush (pathName, el) &#123;  window.history.pushState(&#123;&#125;, pathName, window.location.origin + pathName)  renderHTML(el, routes[pathName])&#125;// get hash history routefunction getHashRoute () &#123;  let route = &#x27;/&#x27;  Object.keys(routes).forEach(hashRoute =&gt; &#123;    if (window.location.hash.replace(&#x27;#&#x27;, &#x27;&#x27;) === hashRoute.replace(&#x27;/&#x27;, &#x27;&#x27;)) &#123;      route = routes[hashRoute]    &#125;  &#125;)  return route&#125;// set hash historyfunction hashRouterPush (pathName, el) &#123;  renderHTML(el, getHashRoute())&#125;// renderfunction renderHTML (el, route) &#123;  el.innerHTML = route&#125;module.exports = &#123;  initialRoutes,  historyRouterPush,  hashRouterPush&#125;\n\n핵심 부분만 보자.\n history 일 경우엔 historyRouterPush를 통해서 history PushState API를 사용하고 있으며 이후 template를 렌더링하고 있으며, onpopstate를 통하여 브라우저 뒤로 가기 또는 앞으로 가기에 따라 히스토리를 관리할 수 있다.hash인 경우 hashchange 이벤트를 통하여 hash가 변경되는 것을 감지하고 hash에 따라 페이지를 렌더링하고 있다.\nindex.js (app.js) 생성이제 Entry Point가 되는 index.js를 생성하자.\n// cssrequire(&#x27;./css/style.css&#x27;)// routerconst &#123;  initialRoutes,  historyRouterPush,  hashRouterPush&#125; = require(&#x27;./router&#x27;)// app divisionconst historyAppDiv = document.querySelector(&#x27;#history-app&#x27;)const hashAppDiv = document.querySelector(&#x27;#hash-app&#x27;)// Browser HistoryinitialRoutes(&#x27;history&#x27;, historyAppDiv)// Hash HistoryinitialRoutes(&#x27;hash&#x27;, hashAppDiv)window.onload = () =&gt; &#123;  const historyLinker = document.querySelectorAll(&#x27;span.history&#x27;)  const hashLinker = document.querySelectorAll(&#x27;a.hash&#x27;)  historyLinker.forEach(el =&gt; &#123;    el.addEventListener(&#x27;click&#x27;, (evt) =&gt; &#123;      const pathName = evt.target.getAttribute(&#x27;route&#x27;)      historyRouterPush(pathName, historyAppDiv)    &#125;)  &#125;)  hashLinker.forEach(el =&gt; &#123;    el.addEventListener(&#x27;click&#x27;, (evt) =&gt; &#123;      const pathName = evt.target.getAttribute(&#x27;route&#x27;)      hashRouterPush(pathName, hashAppDiv)    &#125;)  &#125;)&#125;\n\nindex.js에서는 각 html 태그에 이벤트를 생성하고 이벤트에 따라 라우팅을 변경하는 코드가 존재한다. 또한, 최초에 initialRoutes를 통해 기본 페이지를 렌더링하는 것을 볼 수 있다.\n실행작성이 모두 끝났으면 개발 모드로 실행을 해보자.\nnpm\nscriptnpm run start \n\nyarn\nscriptyarn start \n\n빌드빌드는 아래와 같이 실행할 수 있다.\nnpm\nscriptnpm run build \n\nyarn\nscriptyarn build \n\n빌드를 실행하면 dist 폴더가 생기고 빌드 결과를 확인할 수 있다. 이 빌드 결과를 실행해 보기 위해서는 http-server와 같은 모듈을 설치하여 실행이 가능하다.\nnpm\nscriptnpm install -g http-server\n\nyarn\nscriptyarn add global http-server \n\n이 후 dist 경로에서 http-server를 입력하면 가상 서버를 실행 할 수 있다.\n\n사실 라우팅이라는 개념은 단순하다. \n특정 window 객체를 잘 활용하고 개념만 안다면 누구나 만들 수 있는 시스템이지만 우리는 보통 만들어져있는 모듈을 많이 쓰기 때문에 처음에는 약간 생소할 수도 있다.생각해보면 Front-End 개발에 있어서 라우팅은 이제 중요한 부분을 차지하고 있는데도 불구하고 그저 자연스럽게 필요하니 가져다 쓰는 모듈에 불과했었다. 개념을 알지만 실제로 구현해보는 것과는 차이가 있다는 것을 다시 한 번 느끼는 기회였다. \n라우팅을 만들어 볼 수 있는 기회가 생긴 것에 감사하고 필요한 이에게 도움이 되었으면 한다.\n위 예제는 Github spa-router-example에 올려놨으므로 참고가 필요한 경우 사용해도 괜찮다.\n\n더 알아보기Webpack 개념잡기Webpack 완전정복하기!!빠르게 배우는 Node.js와 NPM 설치부터 개념잡기빠르게 배우는 NPM 패키지 생성부터 배포까지 완벽 가이드NPM-Scope 패키지 어디까지 알고 있니?NVM으로 Windows 환경에서 Node 버전 관리하기\n","dateCreated":"2020-10-06T13:44:20+00:00","dateModified":"2023-12-19T00:27:17+00:00","datePublished":"2020-10-06T13:44:20+00:00","description":"\n이번 포스팅에서는 Vanilla js를 사용하여 vur-router, react-router와 같은 SPA(Single Page Application)의 라우팅 시스템의 개념을 배워보고 실제로 구현해보도록하자. Vanilla js를 추구하는 반면 많은 사람이 vue, react, angular와 같은 프레임워크를 많이 사용한다.이번 포스팅에서는 이런 경험을 바탕으로 앞으로 같은 문제를 겪는 개발자에게 도움이 되고자 Vanilla js를 사용하여 SPA (Single Page Application)에서 Routing 시스템을 구현하는 방법을 적어보자 한다.\n","headline":"Vanilla JS에서 SPA 라우팅 시스템 구현하기","image":["spa-route-tutorial-cover.png"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://kdydesign.github.io/2020/10/06/spa-route-tutorial/"},"publisher":{"@type":"Organization","name":"Dev. DY","sameAs":["https://github.com/kdydesign","mailto:kdydesign@gmail.com"],"image":"auth2.png","logo":{"@type":"ImageObject","url":"auth2.png"}},"url":"https://kdydesign.github.io/2020/10/06/spa-route-tutorial/","keywords":"javascript, nodejs, vanilla js, spa, spa routing, spa router, spa route, vanilla js spa routing","thumbnailUrl":"spa-route-tutorial-cover.png"}</script>
    <meta name="description" content="이번 포스팅에서는 Vanilla js를 사용하여 vur-router, react-router와 같은 SPA(Single Page Application)의 라우팅 시스템의 개념을 배워보고 실제로 구현해보도록하자. Vanilla js를 추구하는 반면 많은 사람이 vue, react, angular와 같은 프레임워크를 많이 사용한다.이번 포스팅에서는 이런 경험">
<meta property="og:type" content="blog">
<meta property="og:title" content="Vanilla JS에서 SPA 라우팅 시스템 구현하기">
<meta property="og:url" content="https://kdydesign.github.io/2020/10/06/spa-route-tutorial/index.html">
<meta property="og:site_name" content="Dev. DY">
<meta property="og:description" content="이번 포스팅에서는 Vanilla js를 사용하여 vur-router, react-router와 같은 SPA(Single Page Application)의 라우팅 시스템의 개념을 배워보고 실제로 구현해보도록하자. Vanilla js를 추구하는 반면 많은 사람이 vue, react, angular와 같은 프레임워크를 많이 사용한다.이번 포스팅에서는 이런 경험">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://kdydesign.github.io/2020/10/06/spa-route-tutorial/spa-route-tutorial-cover.png">
<meta property="article:published_time" content="2020-10-06T13:44:20.000Z">
<meta property="article:modified_time" content="2023-12-19T00:27:17.809Z">
<meta property="article:author" content="Dev. DY">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="nodejs">
<meta property="article:tag" content="vanilla js">
<meta property="article:tag" content="spa">
<meta property="article:tag" content="spa routing">
<meta property="article:tag" content="spa router">
<meta property="article:tag" content="spa route">
<meta property="article:tag" content="vanilla js spa routing">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://kdydesign.github.io/2020/10/06/spa-route-tutorial/spa-route-tutorial-cover.png">
<meta property="fb:app_id" content="632708780267324">
    
    
        
    
    
        <meta property="og:image" content="https://kdydesign.github.io/assets/images/auth2.png"/>
    
    
        <meta property="og:image" content="https://kdydesign.github.io/2020/10/06/spa-route-tutorial/spa-route-tutorial-cover.png"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://kdydesign.github.io/2020/10/06/spa-route-tutorial/spa-route-tutorial-cover.png"/>
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-ygftgvatdpl9jpdo5cpm5oimjqprswzc5pzj1zzozmw86c0kkro1cvz5l7fn.min.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-46198235-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-46198235-1');
    </script>


    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Dev. DY
        </a>
    </div>
    <div class="reading-progress-bar"></div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Öffne den Link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/auth2.png" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Lesen Sie mehr über den Autor"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/auth2.png" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Dev. DY</h4>
                
                    <h5 class="sidebar-profile-bio"><p>Web Front-End Technology Lab</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/kdydesign"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="mailto:kdydesign@gmail.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaOut
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-center">
    
        <h1 class="post-title">
            Vanilla JS에서 SPA 라우팅 시스템 구현하기
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2020-10-06T13:44:20+00:00">
	
		    2020-10-06
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/javascript/">javascript</a>, <a class="category-link" href="/categories/javascript/nodejs/">nodejs</a>, <a class="category-link" href="/categories/javascript/nodejs/vanilla-js/">vanilla js</a>, <a class="category-link" href="/categories/javascript/nodejs/vanilla-js/spa/">spa</a>, <a class="category-link" href="/categories/javascript/nodejs/vanilla-js/spa/spa-routing/">spa routing</a>, <a class="category-link" href="/categories/javascript/nodejs/vanilla-js/spa/spa-routing/hashchange/">hashchange</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <div style="display: inline-block; float: right; font-size: 1.3rem;font-weight: 400;">
                <span style="color: #50abf5;">Last Updated: </span>
                <span style="color: #9eabb3;">2023-12-19</span>
            </div>

            <!-- 사각/adsense -->
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-3611154972292213"
                 data-ad-slot="8267110592"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>

            <!-- excerpt -->
<!-- excerpt -->

<p><img src="/2020/10/06/spa-route-tutorial/spa-route-tutorial-cover.png" alt="spa-route-tutorial-cover"></p>
<p>vanilla js를 제외하고 vue, react, angular와 같은 프레임워크를 사용할 땐 우리는 <code>vue-route</code>, <code>react-router</code>와 같은 <code>Third Party 라이브러리</code>를 많이 사용한다.<br>그렇기 때문에 어떤 프로젝트를 하더라도 <code>SPA (Single Page Application)</code>에서 라우팅을 구현할 일이 없다. 그러므로 인해 <code>라우팅을 구현해 보라는 과제</code>를 준다면 해결하기 쉽지 않다.<br>애플리케이션에서 일부를 차지하는 컴포넌트가 아닌 애플리케이션 전체를 구동, 조작되어야하는 하나의 코어이기 때문이다. 이런 Third Party 시스템을 구현할 때에는 개념과 설계, 구현의 3박자가 정확하게 일치해야 하므로 쉬운 문제는 아닐 것이다.</p>
<p>이번 포스팅에서는 이런 경험을 바탕으로 앞으로 같은 문제를 겪는 개발자에게 도움이 되고자 <code>Vanilla js를 사용하여 SPA (Single Page Application)에서 Routing 시스템을 구현하는 방법</code>을 적어보자 한다.</p>
<hr>
<h1 id="SPA-Routing"><a href="#SPA-Routing" class="headerlink" title="SPA Routing"></a>SPA Routing</h1><p>SPA는 Single Page Application으로 Front-End 개발자라면 대부분 아는 아키텍쳐이다. 또한 SPA하면 빠질 수 없는 게 라우팅 개념이다.<br>SPA가 널리 퍼지기 전에는 사용자가 새 페이지를 탐색하기 위해서는 해당 페이지의 문서를 서버에 요청해야 한다.<br>이로 인해서 웹 사이트가 다시 로드되어 요청된 콘텐츠가 최종적으로 페이지에 렌더링 된다. 이런 과정에서 페이지가 렌더링 되기 전에 사용자는 항상 몇 초 동안 빈 화면을 응시할 수밖에 없었다.</p>
<p>최신 웹 페이지는 이런 빈 화면에 대한 시간을 줄이기 위해 <code>라우팅</code>과 함께 <code>SPA (Single Page Application)</code>를 사용한다. 위에서 언급했듯이 <code>vue</code>, <code>react</code>, <code>angular</code>와 같은 많은 프레임워크가 SPA가 사용자 경험을 가져다주는 이점으로 인해 라우팅을 권장하고 많은 Third Party 용 라우팅이 개발되었다.</p>
<p>이 라우팅으로 인해 사용자는 새 콘텐츠가 필요할 때마다 서버에 요청할 필요가 없다. <strong>초기 애플리케이션을 로드할 때 모든 웹 사이트 콘텐츠를 로드하고 URL 경로 이름에 따라 페이지에 올바른 콘텐츠를 동적으로 표현</strong>한다.<br>애플리케이션은 URL 경로의 이름을 분석하고 이 이름과 관련된 콘텐츠를 분석한다. 콘텐츠는 서버가 아닌 메모리에 저장되기 때문에 애플리케이션 내에서 페이지를 스와핑하기 때문에 사용자는 빈 화면을 볼 수 없는 것이다.</p>
<p>SPA 라우팅을 구현하는 방법에 있어서는 두 가지 방법이 있다.</p>
<blockquote>
<p><strong>1. history (Browser History)를 사용한 방법</strong></p>
<p><strong>2. hash (Hash History)를 사용한 방법</strong></p>
</blockquote>
<p>두 차이점은 아래와 같다.</p>
<div class="alert info no-icon"><ul>
<li><strong>history (BrowserHistory)</strong> - <code>history.pushState</code> API를 활용하여 페이지를 다시 로드하지 않고 URL을 탐색 할 수 있다.</li>
<li><strong>hash (HashHistory)</strong> - url 해쉬를 사용하여 전체 url을 시뮬레이트하게되며, url이 변경될 때 페이지가 다시 로드되지 않는다. 보통 url에 <code>#</code>이 붙는다.</li>
</ul>
</div> 

<h2 id="history를-사용하는-방법-Browser-History-Mode"><a href="#history를-사용하는-방법-Browser-History-Mode" class="headerlink" title="history를 사용하는 방법 (Browser History Mode)"></a>history를 사용하는 방법 (Browser History Mode)</h2><p><code>history</code>를 사용한 방법은 <code>history</code>라는 API를 사용하는 방법이며, 가장 보편적인 방법이다.</p>
<p>history API의 <code>pushstate</code>와 window 객체의 <code>popstate</code> 이벤트를 이용하는데 <code>history.pushState</code>를 통하여 새 데이터 전달을 위한 상태, 제목, url을 지정할 수 있다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">history</span>.<span class="hljs-title function_">pushState</span>(&#123; <span class="hljs-attr">data</span>: <span class="hljs-string">&#x27;some data&#x27;</span> &#125;,<span class="hljs-string">&#x27;Some history entry title&#x27;</span>, <span class="hljs-string">&#x27;/some-path&#x27;</span>)<br></code></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">onpopstate</span> = <span class="hljs-function">() =&gt;</span> &#123;<br>  appDiv.<span class="hljs-property">innerHTML</span> = routes[<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">pathname</span>]<br>&#125;<br></code></pre></td></tr></table></figure>

<p><code>Browser History</code>의 url의 형태는 <code>site/some-path</code>와 같이 표현되지만 이 방법은 <strong>서버 측 지원이 일부 필요</strong>하다. 예를 들어 <code>http://domain.com/site/another-path</code>와 같이 존재하지 않는 경로로 접속할 경우 오류를 출력한다. 이런 문제를 해결하고 대체할 url은 서버에서 지정해야 한다.</p>
<h2 id="hash를-사용하는-방법-Hash-History-Mode"><a href="#hash를-사용하는-방법-Hash-History-Mode" class="headerlink" title="hash를 사용하는 방법 (Hash History Mode)"></a>hash를 사용하는 방법 (Hash History Mode)</h2><p>hash를 사용하는 방법은 <code>#</code> 앵커를 통해 이동하는 방법으로 <code>site/#some-path</code>와 같이 url이 표현된다. 보통 정적 페이지에서 사용되며 블로그의 주 제목을 클릭 후 앵커 이동 시 url에 <code>#</code>이 붙는 모습을 볼 수 있다.</p>
<p>현재 url의 hash는 <code>window.location.hash</code>를 통하여 확인 할 수 있으며, 라우팅 시스템을 구축할 경우 이 <code>window.location.hash</code>를 이용하여 라우팅을 변경할 수 있다. hash가 변경될 때마다 <code>popstate</code>와 같이 <code>hashchange</code> 이벤트가 발생하기 때문에 <code>hashchange</code>를 통하여 라우팅을 변경할 수 있다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;hashchange&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>  appDiv.<span class="hljs-property">innderHTML</span> = routes[<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">hash</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-string">&#x27;#&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)]<br>&#125;)<br></code></pre></td></tr></table></figure>

<p>보통 <code>hash History</code>는 <strong>웹 페이지 내부에서 이동을 위할 것으로 history가 관리되지 않는다.</strong> 하지만 서버가 없는 정적 페이지 경우에는 hashHistory만으로도 충분하다.</p>
<hr>
<p>여기까지 <code>SPA 라우팅</code>에 대해 알아보았다. 이제 실제로 위 두 방법인 <code>Browser History</code>와 <code>Hash History</code>를 <code>Vanilla js</code>를 사용하여 직접 원초적으로 구현해보도록 하자.</p>
<p>여기서 빌드와 로컬 서버는 <code>Webpack</code>을 사용하도록 하겠다.</p>
<h1 id="환경-구축"><a href="#환경-구축" class="headerlink" title="환경 구축"></a>환경 구축</h1><p><code>spa-router-example</code>과 같은 적당한 디렉토리를 생성하고 <code>webpack</code>을 설치하자.</p>
<p><code>webpack</code>에 대해서는 <a href="https://kdydesign.github.io/2017/07/27/webpack/">Webpack 개념잡기</a>와 <a href="https://kdydesign.github.io/2017/11/04/webpack-tutorial/">Webpack 완전정복하기!!</a> 포스팅을 참고하자.</p>
<p><strong>npm</strong></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">npm i webpack webpack-cli webpack-dev-server -D<br></code></pre></td></tr></table></figure>

<p><strong>yarn</strong></p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><code class="hljs shell">yarn add webpack webpack-cli webpack-dev-server --dev<br></code></pre></td></tr></table></figure>

<p>기본적인 webpack이 설치되었다면 추가로 아래 항목들도 설치하자. </p>
<p>webpack entry를 동적으로 html에 삽입하여 생성하기 위해 <code>HtmlWebpackPlugin</code>과 <code>css</code>를 위한 <code>MiniCssExtractPlugin</code>, 빌드 결과를 주기적으로 제거하기 위하여 <code>CleanWebpackPlugin</code> 역시 설치하자.</p>
<p>이외에 html Template를 사용하기 위해 <a target="_blank" rel="noopener" href="https://handlebarsjs.com/">HandleBars</a>도 설치하도록 하자.</p>
<div class="alert warning no-icon"><p><strong>추가 설치</strong></p>
<ul>
<li><strong>clean-webpack-plugin</strong> - 빌드 결과물(dist)을 초기화</li>
<li><strong>css-loader</strong> - css 사용을 위한 로더</li>
<li><strong>handlebars</strong> - html template를 사용하기 위한 템플릿 엔진</li>
<li><strong>handlebars-loader</strong> - webpack에서 handlebars를 사용하기 위한 로더</li>
<li><strong>mini-css-extract-plugin</strong> - css 결과물을 내보내기 위한 플러그인</li>
<li><strong>html-webpack-plugin</strong> - entry를 html에 동적 삽입과 html 결과물을 내보내기 위한 플러그인</li>
</ul>
</div>

<p><strong>npm</strong></p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><code class="hljs shell">npm i clean-webpack-plugin css-loader handlebars handlebars-loader mini-css-extract-plugin html-webpack-plugin -D<br></code></pre></td></tr></table></figure>

<p><strong>yarn</strong></p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><code class="hljs shell">yarn add clean-webpack-plugin css-loader handlebars handlebars-loader mini-css-extract-plugin html-webpack-plugin --dev<br></code></pre></td></tr></table></figure>

<p>모든 설치가 완료되었다면 <code>webpack.config.js</code> 파일을 생성하여 아래와 같이 설정하자.</p>
<p><strong>webpack.config.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;html-webpack-plugin&#x27;</span>)<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">MiniCssExtractPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;mini-css-extract-plugin&#x27;</span>)<br><span class="hljs-keyword">const</span> &#123; <span class="hljs-title class_">CleanWebpackPlugin</span> &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;clean-webpack-plugin&#x27;</span>)<br><br><span class="hljs-keyword">const</span> &#123; resolve &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;path&#x27;</span>)<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">entry</span>: &#123;<br>    <span class="hljs-attr">router</span>: <span class="hljs-string">&#x27;./router.js&#x27;</span>,<br>    <span class="hljs-attr">app</span>: <span class="hljs-string">&#x27;./index.js&#x27;</span><br>  &#125;,<br><br>  <span class="hljs-attr">output</span>: &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&#x27;./dist&#x27;</span>),<br>    <span class="hljs-attr">filename</span>: <span class="hljs-string">&#x27;[name].js&#x27;</span><br>  &#125;,<br><br>  <span class="hljs-attr">plugins</span>: [<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>(&#123;<br>      <span class="hljs-attr">filename</span>: <span class="hljs-string">&#x27;index.html&#x27;</span>, <span class="hljs-comment">// output file name</span><br>      <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;index.html&#x27;</span>  <span class="hljs-comment">// template file name</span><br>    &#125;),<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">MiniCssExtractPlugin</span>(&#123; <span class="hljs-attr">filename</span>: <span class="hljs-string">&#x27;app.css&#x27;</span> &#125;),<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">CleanWebpackPlugin</span>(&#123;<br>      <span class="hljs-attr">cleanAfterEveryBuildPatterns</span>: [<span class="hljs-string">&#x27;dist&#x27;</span>]<br>    &#125;)<br>  ],<br><br>  <span class="hljs-attr">module</span>: &#123;<br>    <span class="hljs-attr">rules</span>: [<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.hbs$/</span>,<br>        <span class="hljs-attr">loader</span>: <span class="hljs-string">&#x27;handlebars-loader&#x27;</span><br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,<br>        <span class="hljs-attr">use</span>: [<span class="hljs-title class_">MiniCssExtractPlugin</span>.<span class="hljs-property">loader</span>, <span class="hljs-string">&#x27;css-loader&#x27;</span>]<br>      &#125;<br>    ]<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>다음으로 <code>webpack-dev-server</code> 구동 및 빌드를 할 수 있도록 <code>package.json</code>에 script를 작성하자.</p>
<p><strong>package.json</strong></p>
<figure class="highlight json"><figcaption><span>package.json</span></figcaption><table><tr><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;start&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;webpack-dev-server&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;build&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;webpack --mode=production&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>

<h1 id="index-html-및-각-페이지-생성"><a href="#index-html-및-각-페이지-생성" class="headerlink" title="index.html 및 각 페이지 생성"></a>index.html 및 각 페이지 생성</h1><p>webpack 설정이 완료되었다면 가장 메인이 되는 <code>index.html</code>을 만들자.</p>
<p><strong>index.html</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>spa-router-example<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--BrowserHistory--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-comment">&lt;!--Link--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;link-container&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;link-box&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;history&quot;</span> <span class="hljs-attr">route</span>=<span class="hljs-string">&quot;/about&quot;</span>&gt;</span>History About<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;link-box&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;history&quot;</span> <span class="hljs-attr">route</span>=<span class="hljs-string">&quot;/home&quot;</span>&gt;</span>History Home<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!--Content--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;history-app&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">hr</span>/&gt;</span><br><br><span class="hljs-comment">&lt;!--HashHistory--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-comment">&lt;!--Link--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;link-container&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;link-box&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;hash&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#about&quot;</span>&gt;</span>Hash About<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;link-box&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;hash&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#home&quot;</span>&gt;</span>Hash Home<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!--Content--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;hash-app&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><code>index.html</code>에는 라우팅 변경을 할 수 있는 <code>link</code>와 라우팅에 따라서 템플릿이 삽입된 <code>history-app</code>과 <code>hash-app</code>이 있다. 라우팅 변경에 따라 해당 <code>Content</code>영역에 템플릿이 삽입될 것이다.</p>
<p>이제 각 라우팅을 위한 <code>about</code>과 <code>home</code> 페이지를 만들자.</p>
<p>이 파일들은 <strong><em>html이 아닌 Handlebars로 생성할 것이기 때문에 확장자는 <code>.hbs</code> 또는 <code>.handlebars</code>로 생성해야 한다.</em></strong></p>
<div class="alert danger no-icon"><p><code>.handlebars</code> 확장자로 생성 시 <code>webpack.config.js</code>에서 <code>handlebars-loader</code> 영역의 정규식을 <code>/\.handlebars$/</code>로 수정해야 한다.</p>
</div>

<p>보통 <a target="_blank" rel="noopener" href="https://ejs.co/">ejs</a>나 <a target="_blank" rel="noopener" href="https://handlebarsjs.com/">handleBars</a>와 같은 템플릿 엔진을 사용하여 라우팅하지만 이게 싫다면 html 파일로 생성 후 <a target="_blank" rel="noopener" href="https://webpack.js.org/loaders/html-loader/">html-loader</a>를 사용하여도 무관하다.</p>
<p><code>pages</code>라는 폴더를 생성하고 하위에 <code>about.hbs</code>와 <code>home.hbs</code> 파일을 생성하자.</p>
<p><strong>pages&#x2F;about.hbs</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>About Page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>pages&#x2F;home.hbs</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Home Page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>이제 보기 좋도록 style을 생성하자.</p>
<p><code>css</code> 디렉토리를 생성하고 하위에 <code>style.css</code>를 생성하자.</p>
<figure class="highlight css"><table><tr><td class="code"><pre><code class="hljs css">hr &#123;<br>    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">50px</span>;<br>&#125;<br><br><span class="hljs-selector-tag">span</span> &#123;<br>    <span class="hljs-attribute">cursor</span>: pointer;<br>    <span class="hljs-attribute">color</span>: blue;<br>    <span class="hljs-attribute">text-decoration</span>: underline;<br>&#125;<br><br><span class="hljs-selector-tag">span</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#6a00ff</span>;<br>&#125;<br><br><span class="hljs-selector-class">.link-container</span> &#123;<br>    <span class="hljs-attribute">text-align</span>: center;<br>&#125;<br><br><span class="hljs-selector-class">.link-box</span> &#123;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span> <span class="hljs-number">0px</span> <span class="hljs-number">20px</span> <span class="hljs-number">0px</span>;<br>    <span class="hljs-attribute">display</span>: inline-block;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">170px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;<br>    <span class="hljs-attribute">text-align</span>: center;<br>&#125;<br><br><span class="hljs-selector-class">.page</span> &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">50%</span>;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">30vh</span>;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#4b4b4b</span>;<br>    <span class="hljs-attribute">display</span>: flex;<br>    <span class="hljs-attribute">align-items</span>: center;<br>    <span class="hljs-attribute">justify-content</span>: center;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="라우팅-생성"><a href="#라우팅-생성" class="headerlink" title="라우팅 생성"></a>라우팅 생성</h1><p>이제 본격적으로 라우팅을 생성해보자.</p>
<p><code>router.js</code> 파일을 생성하고 아래와 같이 입력하자.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// template</span><br><span class="hljs-keyword">const</span> homeTemplate = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./pages/home.hbs&#x27;</span>)<br><span class="hljs-keyword">const</span> aboutTemplate = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./pages/about.hbs&#x27;</span>)<br><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Home</span> = <span class="hljs-title function_">homeTemplate</span>()<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">About</span> = <span class="hljs-title function_">aboutTemplate</span>()<br><br><span class="hljs-keyword">const</span> routes = &#123;<br>  <span class="hljs-string">&#x27;/&#x27;</span>: <span class="hljs-title class_">Home</span>,<br>  <span class="hljs-string">&#x27;/home&#x27;</span>: <span class="hljs-title class_">Home</span>,<br>  <span class="hljs-string">&#x27;/about&#x27;</span>: <span class="hljs-title class_">About</span><br>&#125;<br><br><span class="hljs-comment">// entry point</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">initialRoutes</span> (mode, el) &#123;<br>  <span class="hljs-title function_">renderHTML</span>(el, routes[<span class="hljs-string">&#x27;/&#x27;</span>])<br><br>  <span class="hljs-keyword">if</span> (mode === <span class="hljs-string">&#x27;history&#x27;</span>) &#123;<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-property">onpopstate</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">renderHTML</span>(el, routes[<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">pathname</span>])<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;hashchange&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-title function_">renderHTML</span>(el, <span class="hljs-title function_">getHashRoute</span>())<br>    &#125;)<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">// set browser history</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">historyRouterPush</span> (pathName, el) &#123;<br>  <span class="hljs-variable language_">window</span>.<span class="hljs-property">history</span>.<span class="hljs-title function_">pushState</span>(&#123;&#125;, pathName, <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">origin</span> + pathName)<br>  <span class="hljs-title function_">renderHTML</span>(el, routes[pathName])<br>&#125;<br><br><span class="hljs-comment">// get hash history route</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getHashRoute</span> () &#123;<br>  <span class="hljs-keyword">let</span> route = <span class="hljs-string">&#x27;/&#x27;</span><br><br>  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(routes).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">hashRoute</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">hash</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-string">&#x27;#&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>) === hashRoute.<span class="hljs-title function_">replace</span>(<span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)) &#123;<br>      route = routes[hashRoute]<br>    &#125;<br>  &#125;)<br><br>  <span class="hljs-keyword">return</span> route<br>&#125;<br><br><span class="hljs-comment">// set hash history</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">hashRouterPush</span> (pathName, el) &#123;<br>  <span class="hljs-title function_">renderHTML</span>(el, <span class="hljs-title function_">getHashRoute</span>())<br>&#125;<br><br><span class="hljs-comment">// render</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">renderHTML</span> (el, route) &#123;<br>  el.<span class="hljs-property">innerHTML</span> = route<br>&#125;<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  initialRoutes,<br>  historyRouterPush,<br>  hashRouterPush<br>&#125;<br></code></pre></td></tr></table></figure>

<p>핵심 부분만 보자.</p>
<p> <code>history</code> 일 경우엔 <code>historyRouterPush</code>를 통해서 <code>history PushState API</code>를 사용하고 있으며 이후 template를 렌더링하고 있으며, <code>onpopstate</code>를 통하여 브라우저 뒤로 가기 또는 앞으로 가기에 따라 히스토리를 관리할 수 있다.<br><code>hash</code>인 경우 <code>hashchange</code> 이벤트를 통하여 hash가 변경되는 것을 감지하고 hash에 따라 페이지를 렌더링하고 있다.</p>
<h1 id="index-js-app-js-생성"><a href="#index-js-app-js-생성" class="headerlink" title="index.js (app.js) 생성"></a>index.js (app.js) 생성</h1><p>이제 Entry Point가 되는 <code>index.js</code>를 생성하자.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// css</span><br><span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./css/style.css&#x27;</span>)<br><br><span class="hljs-comment">// router</span><br><span class="hljs-keyword">const</span> &#123;<br>  initialRoutes,<br>  historyRouterPush,<br>  hashRouterPush<br>&#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./router&#x27;</span>)<br><br><span class="hljs-comment">// app division</span><br><span class="hljs-keyword">const</span> historyAppDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#history-app&#x27;</span>)<br><span class="hljs-keyword">const</span> hashAppDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#hash-app&#x27;</span>)<br><br><span class="hljs-comment">// Browser History</span><br><span class="hljs-title function_">initialRoutes</span>(<span class="hljs-string">&#x27;history&#x27;</span>, historyAppDiv)<br><br><span class="hljs-comment">// Hash History</span><br><span class="hljs-title function_">initialRoutes</span>(<span class="hljs-string">&#x27;hash&#x27;</span>, hashAppDiv)<br><br><span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-keyword">const</span> historyLinker = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;span.history&#x27;</span>)<br>  <span class="hljs-keyword">const</span> hashLinker = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;a.hash&#x27;</span>)<br><br>  historyLinker.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> &#123;<br>    el.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">const</span> pathName = evt.<span class="hljs-property">target</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&#x27;route&#x27;</span>)<br><br>      <span class="hljs-title function_">historyRouterPush</span>(pathName, historyAppDiv)<br>    &#125;)<br>  &#125;)<br><br>  hashLinker.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> &#123;<br>    el.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">const</span> pathName = evt.<span class="hljs-property">target</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&#x27;route&#x27;</span>)<br><br>      <span class="hljs-title function_">hashRouterPush</span>(pathName, hashAppDiv)<br>    &#125;)<br>  &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>

<p><code>index.js</code>에서는 각 html 태그에 이벤트를 생성하고 이벤트에 따라 라우팅을 변경하는 코드가 존재한다. 또한, 최초에 <code>initialRoutes</code>를 통해 기본 페이지를 렌더링하는 것을 볼 수 있다.</p>
<h1 id="실행"><a href="#실행" class="headerlink" title="실행"></a>실행</h1><p>작성이 모두 끝났으면 개발 모드로 실행을 해보자.</p>
<p><strong>npm</strong></p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><code class="hljs shell">npm run start <br></code></pre></td></tr></table></figure>

<p><strong>yarn</strong></p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><code class="hljs shell">yarn start <br></code></pre></td></tr></table></figure>

<h1 id="빌드"><a href="#빌드" class="headerlink" title="빌드"></a>빌드</h1><p>빌드는 아래와 같이 실행할 수 있다.</p>
<p><strong>npm</strong></p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><code class="hljs shell">npm run build <br></code></pre></td></tr></table></figure>

<p><strong>yarn</strong></p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><code class="hljs shell">yarn build <br></code></pre></td></tr></table></figure>

<p>빌드를 실행하면 <code>dist</code> 폴더가 생기고 빌드 결과를 확인할 수 있다. 이 빌드 결과를 실행해 보기 위해서는 <code>http-server</code>와 같은 모듈을 설치하여 실행이 가능하다.</p>
<p><strong>npm</strong></p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><code class="hljs shell">npm install -g http-server<br></code></pre></td></tr></table></figure>

<p><strong>yarn</strong></p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><code class="hljs shell">yarn add global http-server <br></code></pre></td></tr></table></figure>

<p>이 후 <code>dist</code> 경로에서 <code>http-server</code>를 입력하면 가상 서버를 실행 할 수 있다.</p>
<hr>
<p>사실 라우팅이라는 개념은 단순하다. </p>
<p>특정 window 객체를 잘 활용하고 개념만 안다면 누구나 만들 수 있는 시스템이지만 우리는 보통 만들어져있는 모듈을 많이 쓰기 때문에 처음에는 약간 생소할 수도 있다.<br>생각해보면 Front-End 개발에 있어서 라우팅은 이제 중요한 부분을 차지하고 있는데도 불구하고 그저 자연스럽게 필요하니 가져다 쓰는 모듈에 불과했었다. 개념을 알지만 실제로 구현해보는 것과는 차이가 있다는 것을 다시 한 번 느끼는 기회였다. </p>
<p>라우팅을 만들어 볼 수 있는 기회가 생긴 것에 감사하고 필요한 이에게 도움이 되었으면 한다.</p>
<p>위 예제는 <a target="_blank" rel="noopener" href="https://github.com/kdydesign/spa-router">Github spa-router-example</a>에 올려놨으므로 참고가 필요한 경우 사용해도 괜찮다.</p>
<hr>
<div class="alert more no-icon"><p><strong>더 알아보기</strong><br><a href="https://kdydesign.github.io/2017/07/27/webpack/">Webpack 개념잡기</a><br><a href="https://kdydesign.github.io/2017/11/04/webpack-tutorial/">Webpack 완전정복하기!!</a><br><a href="https://kdydesign.github.io/2017/07/15/nodejs-npm-tutorial/">빠르게 배우는 Node.js와 NPM 설치부터 개념잡기</a><br><a href="https://kdydesign.github.io/2020/08/28/npm-tutorial/">빠르게 배우는 NPM 패키지 생성부터 배포까지 완벽 가이드</a><br><a href="https://kdydesign.github.io/2020/08/31/npm-scope-tutorial/">NPM-Scope 패키지 어디까지 알고 있니?</a><br><a href="https://kdydesign.github.io/2020/09/16/nvm-for-windows/">NVM으로 Windows 환경에서 Node 버전 관리하기</a></p>
</div>
            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/nodejs/" rel="tag">nodejs</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/spa/" rel="tag">spa</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/spa-route/" rel="tag">spa route</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/spa-router/" rel="tag">spa router</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/spa-routing/" rel="tag">spa routing</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/vanilla-js/" rel="tag">vanilla js</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/vanilla-js-spa-routing/" rel="tag">vanilla js spa routing</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/10/19/open-source-flow/"
                    data-tooltip="오픈 소스(Open-Source) 구조와 모듈 파악하기"
                    aria-label="PREVIOUS: 오픈 소스(Open-Source) 구조와 모듈 파악하기"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/09/23/parcel-intro/"
                    data-tooltip="불꽃 튀게 빠른 번들러 Parcel 개념잡기!"
                    aria-label="NEXT: 불꽃 튀게 빠른 번들러 Parcel 개념잡기!"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kdydesign.github.io/2020/10/06/spa-route-tutorial/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://kdydesign.github.io/2020/10/06/spa-route-tutorial/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://kdydesign.github.io/2020/10/06/spa-route-tutorial/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2023 Dev. DY. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/10/19/open-source-flow/"
                    data-tooltip="오픈 소스(Open-Source) 구조와 모듈 파악하기"
                    aria-label="PREVIOUS: 오픈 소스(Open-Source) 구조와 모듈 파악하기"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2020/09/23/parcel-intro/"
                    data-tooltip="불꽃 튀게 빠른 번들러 Parcel 개념잡기!"
                    aria-label="NEXT: 불꽃 튀게 빠른 번들러 Parcel 개념잡기!"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kdydesign.github.io/2020/10/06/spa-route-tutorial/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://kdydesign.github.io/2020/10/06/spa-route-tutorial/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://kdydesign.github.io/2020/10/06/spa-route-tutorial/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://kdydesign.github.io/2020/10/06/spa-route-tutorial/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://kdydesign.github.io/2020/10/06/spa-route-tutorial/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://kdydesign.github.io/2020/10/06/spa-route-tutorial/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/auth2.png" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Dev. DY</h4>
        
            <div id="about-card-bio"><p>Web Front-End Technology Lab</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Front-End Developer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Republic of Korea, Seoul
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-ybbbea1lo5q5i0vvbwnprez0gwsh223jyxp6s7vjeupckpwitxu8ms13ttxq.min.js"></script>

<!--SCRIPTS END-->


    
        <script>
          var disqus_config = function() {
            this.page.url = 'https://kdydesign.github.io/2020/10/06/spa-route-tutorial/';
              
            this.page.identifier = 'spa-route-tutorial';
              
          };
          (function() {
            var d = document, s = d.createElement('script');
            var disqus_shortname = 'kdydesign';
            s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
    




    </body>
</html>
