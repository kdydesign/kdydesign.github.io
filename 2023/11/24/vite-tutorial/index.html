
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Dev. DY">
    <title>차세대 번들러 Vite! 개념은 알고 넘어가자! - Dev. DY</title>
    <meta name="author" content="Dev. DY">

    <!--ADSENSE-->
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-3611154972292213",
        enable_page_level_ads: true
      });
    </script>
     <!--STYLES END-->

    <link rel="canonical" href="https://kdydesign.github.io/2023/11/24/vite-tutorial/"/>
    
        <meta name="keywords" content="javascript,vite,native esm,bundler,webpack,javascript bundler">
    
    
        <link rel="icon" href="https://kdydesign.github.io/assets/images/favicon.ico">
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Dev. DY","sameAs":["https://github.com/kdydesign","mailto:kdydesign@gmail.com"],"image":"auth2.png"},"articleBody":"\n\n\n\n이 포스팅을 보기 전에 Javascript 모듈 시스템과 모듈 번들러의 이해 글을 먼저 보기를 권장한다. Vite를 알기 전에 왜 Vite와 같은 빠른 번들러가 지속적으로 출시되는지 알게 된다면 Vite를 이해하는 데 도움이 될 것으로 생각한다.\n위 포스팅을 요약하자면,\n과거 웹 서비스의 용도는 정보를 전달하는 데 있었기에 그 규모와 복잡도가 낮아 자바스크립트의 모듈화가 필요하지 않았다. 단순하게 순차적 로드 방식으로 자바스크립트를 로드하기만 하면 되었지만, 점차 웹 서비스의 규모가 커지면서 복잡도도 향상되었다. 이에 비례하여 개발&#x2F;관리되어야 하는 자바스크립트의 파일들이 많아지면서 Commonjs, AMD, UMD, ESM과 같은 모듈 시스템이 등장하게 되었다. 많은 기술들의 등장으로 자바스크립트가 모듈화되어 파일의 개수와 규모는 간소해졌지만 수많은 종속된 모듈들이 증가하면서 이에 따라 모듈의 효율성을 높기 위한 도구로 webpack, rollup, parcel과 같은 번들러가 출시되었다. 하지만 이런 번들러들도 커지는 프로젝트 규모를 감당하기 힘든지 성능적인 문제들이 발생하기 시작하였고 이를 해결하고자 Native 번들러가 출시되기 시작한다.\n\nJavascript 모듈 시스템과 모듈 번들러의 이해 포스팅에 이어서 이번 포스팅에서는 Vite에 대해 알고 넘어가려고한다. 해당 포스팅에서는 문법과 같은 기술적인 측면보다는 Vite가 무엇이 왜 Vite와 같은 번들러가 출시되는지 관련된 동향과 함께 개념적으로 파악해보고자 한다.\nNative BundlerVite를 설명하기 전에 먼저 알아야 할 것은 Native Bundler이다.\n결과적으로는 개발 생산성은 번들러로 인해 과거보다 증가하였지만, 웹 기술과 다양한 프레임워크의 등장, 그리고 증가하는 모듈과 애플리케이션의 규모에 따라 결국 다시 개발 생산성은 저하되는 아이러니한 상황이 발생한다.\n애플리케이션의 기술 발전과 처리되어야 하는 Javascript 모듈의 개수가 늘어남에 따라 번들링의 성능도 향상이 되어야 하며, 캐싱 및 최적화 작업으로 인하여 개선된 성능이지만 대규모 종속성 크롤링으로 인한 개발 서버의 속도(dev-server)가 저하된다. 또한 종속된 모듈이 많을수록 개발 서버의 가동 시간과 HMR(Hot Module Replacement)의 시간이 증가하며, 다양한 프레임워크가 출시되면서 이를 지원하기 위해 번들러의 설정이 복잡해지고 있다.\n이러한 문제점을 해결하기 위해 Native의 성능을 자랑하는 esbuild와 같은 Native Bundler가 탄생하게 되었다.\n현재까지 출시된 많은 번들러들은 대부분이 Node.js 기반으로 작성된 번들러이다. 이와 다르게 Native Bundler는 Go 또는 Rust와 같은 Native 언어를 기반으로 둔 번들러이며, 이에 따라 기존 번들러와 차별되는 성능을 보인다. Vite의 기반인 esbuild 역시 Go 언어로 작성되었으며, SWC의 경우 Rust 기반으로 작성되었다. 이 Native의 또 다른 의미로는 Node.js가 아니기 때문에 싱글 쓰레드인 Node.js와 다르게 멀티 스레드 환경에서 동작하기 때문에 이 또한 기존 번들러와 성능적 차이를 보이는 요인 중 하나이다.\n\n번들러로서의 역할Native 번들러는 기존 번들러와 성능적인 차별화는 있지만 번들러로서의 역할이 부족하다. 번들러로서의 조건은 빠른 성능만이 아니다. 개발 서버 구동, Sass와 Less, Stylus 등 표준이 아닌 기술들을 실행하고 변환할 수 있는 기능과 같은 기존 번들러들이 제공되는 기능 즉, Dev-Server, Loader, Transpile, Code-Splitting, Tree Shaking, HMR과 같은 기능 지원이 미비하다.\n이를 보완하고자 esbuild 기반으로 빠른 성능의 장점과 Rollup의 번들러로서의 기능을 제공하는 Vite가 등장한다.\n\nViteVite는 빠르고 간결한 모던 웹 프로젝트 개발 경험에 초점을 맞춰 탄생한 빌드 도구로 개발 경험을 개선하여 속도와 성능에 중점을 둔 번들러이다.\nVite에서 제공하는 사전 번들링은 Go로 작성되어있는 esbuild를 사용하고 있기 때문에 Webpack, parcel과 같은 기존 번들러보다 10~100배 빠른 속도를 제공한다. 그리고 번들링 시 Rollup을 기반으로 다양한 빌드 커맨드를 사용하여 개발 경험을 높여준다.\nVite의 특징Vite는 ESM 및 Native 언어를 통해서 기존 Javascript 기반의 번들러의 문제점을 해결했다.\nNative ESM 지원으로 별도의 번들링 없이 개발 서버를 실행할 수 있으며, ESM이기 때문에 별도의 변환 작업 없이 브라우저에 직접적으로 제공하며, esbuild를 통해 종속성 모듈을 사전 번들링하여 개발 서버의 성능을 향상 시킨다. 또한 preload 스텝을 이용한 병렬적(Parallel)으로 모듈을 로드하기 때문에 빌드에 최적화되어 있다.\n요약하자면,\n\nNative ESM 지원으로 별도의 번들링 없이 개발 서버 실행 및 브라우저 직접 제공\nesbuild를 통해 종속성 모듈을 사전 번들링\npreload 스텝을 이용한 병렬적(Parallel)으로 모듈을 로드하여 빌드의 최적화\n\n\n\n비동기 방식 모듈 로드 최적화\n병렬처리\n기존 번들러의 문제점 해결Vite는 기존 번들러의 단점인 느린 피드백 루프에 초점을 맞춰 브라우저에서 지원하는 ESM 및 Natvie 언어로 작성되어 기존 문제점을 해결하였다.\nDev-Server의 성능 저하Javascript 번들러의 개발 서버 구동은 코드-스타트 방식(최초로 실행되어 이전에 캐싱한 데이터가 없는 경우)으로 애플리케이션 내의 모든 소스 코드에 대해 크롤링, 종속성 그래프를 생성하였고 빌드 작업이 끝나야만 실제로 페이지를 제공하였기 때문에 서버의 구동 시간이 오래 걸렸다. 이것은 애플리케이션의 규모가 커짐에 따라 비례하여 증가하기 때문에 규모가 클수록 더욱 느리다.\nVite는 이를 두 가지 방안으로 나누어 개발 서버의 성능 향상시켰다.\n\nDependencies(종속성)의 사전 번들링기존 번들러는 수백개에 이르는 종속된 Javascript 모듈을 비효율적으로 번들링하였고 이로 인해 많은 시간을 소모하였다. Vite의 경우 esbuild를 통해 종속된 모듈을 사전에 번들링하여 webpack, parcel 대비 10-100배 빠르도록 설계되었다.\n\n\nNative ESM을 이용한 소스 코드 제공Vite는 브라우저와 Node.js가 이해할 수 있는 Native ESM으로 소스 코드를 제공하기 때문에 별도의 컴파일링 없이 브라우저를 번들러로 사용하였기 때문에 성능적으로 향상되었다.\n\nHMR(Hot Module Replacement)의 성능 저하Javascript 번들러는 소스 코드를 업데이트하게 되면 번들링 과정을 다시 걸쳤으며, 이로 인해서 애플리케이션의 규모에 비례하여 HMR 속도도 저하되었다. 이에 반면 Vite의 경우 특정 모듈이 수정될 경우 ESM을 이용하여 수정된 부분만 교체 후 브라우저에서 해당 모듈을 요청하면 변경된 모듈만 전달하고 이과 정을 전부 ESM을 이용하기 때문에 애플리케이션의 규모와 상관없이 일정한 HTML 성능을 유지한다.\nBundle Base와 ESM Base의 차이Bundle Base의 경우 모든 종속성 모듈을 번들링하지만 Native ESM의 경우에는 경로 기반 검색으로 해당 모듈을 사용해야만 처리한다. 다시 말해, Native ESM 기반의 Dev-Server는 경로 기반으로 현재 화면에서 해당 모듈을 사용해야만 처리하기 때문에 배포에 필요한 번들링이나 HMR 속도가 빠른 것이다.\n\n\n번들러의 비교지금도 물론 Webpack의 점유율이 높지만, 점차 급격하게 Vite가 상승하는 것을 확인 할 수 있다.\n  trends.embed.renderExploreWidget(\"TIMESERIES\", {\"comparisonItem\":[{\"keyword\":\"webpac\",\"geo\":\"\",\"time\":\"today 5-y\"},{\"keyword\":\"rollup\",\"geo\":\"\",\"time\":\"today 5-y\"},{\"keyword\":\"parcel\",\"geo\":\"\",\"time\":\"today 5-y\"},{\"keyword\":\"vite\",\"geo\":\"\",\"time\":\"today 5-y\"}],\"category\":31,\"property\":\"\"}, {\"exploreQuery\":\"cat=31&date=today%205-y&q=webpac,rollup,parcel,vite&hl=ko\",\"guestPath\":\"https://trends.google.co.kr:443/trends/embed/\"}); \n\n지원 브라우저Native ESM 모듈과 Dynamic Import를 지원하는 브라우저를 대상으로 지원한다. 레거시 브라우저는 프로덕션용으로 빌드 시 @vitejs&#x2F;plugin-legacy를 이용하여 지원할 수 있다.\n\n성능테스트vue-cli와 Vite를 대상으로 100개의 컴포넌트를 기준으로 측정한 성능 테스트이다. 측정 대상은 개발서버 구동 속도, HMR, Build 속도이다. 이 테스트 벤치마킹은 개발 환경과 컴포넌트의 개수에 따라 달라지므로 참고만하도록 하자.\n\n\n\n\nDev-Server\nHMR(Hot Module Replacement)\nBuild\n\n\n\nvue-cli\n8초\n0.6초\n8.3초\n\n\nvite\n0.6초\n즉시 반영\n4.2초\n\n\n\n지금까지 Vite의 개념적인 내용을 파악해 보았다. \nVite의 출시로 인해 Frontend 환경의 큰 변화를 가져다주었다. 지금 당장 실무에 반영해도 되겠냐는 의견이 있었다면, 나는 당장이라도 반영하라고 전하고 싶다. 그만큼 좋은 효과를 뽑아낼 수 있을 것이며, 지속적으로 Vite는 안정화되어 가고 있기 때문에 실무에 반영은 고민하지 않아도 된다고 생각한다. 물론 Vite를 반영하기 위해서는 이에 따른 특정 부분에 대한 마이그레이션이 필요하겠지만, Vite 자체로 가져다주는 효과를 생각한다면 충분히 감안해도 될 것이다.\n다음 포스팅은 Vite의 문법과 설정 사항 등의 테크니컬적인 세부 내용을 살펴볼 예정이다.","dateCreated":"2023-11-24T15:25:07+00:00","dateModified":"2023-12-19T00:27:17+00:00","datePublished":"2023-11-24T15:25:07+00:00","description":"\nVite는 ESM 및 Native 언어를 통해서 기존 Javascript 기반의 번들러의 문제점을 해결했다. Native ESM 지원으로 별도의 번들링 없이 개발 서버를 실행할 수 있으며, ESM이기 때문에 별도의 변환 작업 없이 브라우저에 직접적으로 제공하며, esbuild를 통해 종속성 모듈을 사전 번들링하여 개발 서버의 성능을 향상한다. 또한 preload 스텝을 이용한 병렬적(Parallel)으로 모듈을 로드하기 때문에 빌드에 최적화되어 있다.\n","headline":"차세대 번들러 Vite! 개념은 알고 넘어가자!","image":["vite-tutorial-cover.png"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://kdydesign.github.io/2023/11/24/vite-tutorial/"},"publisher":{"@type":"Organization","name":"Dev. DY","sameAs":["https://github.com/kdydesign","mailto:kdydesign@gmail.com"],"image":"auth2.png","logo":{"@type":"ImageObject","url":"auth2.png"}},"url":"https://kdydesign.github.io/2023/11/24/vite-tutorial/","keywords":"webpack, vite, esbuild, bundler, native esm","thumbnailUrl":"vite-tutorial-cover.png"}</script>
    <meta name="description" content="Vite는 ESM 및 Native 언어를 통해서 기존 Javascript 기반의 번들러의 문제점을 해결했다. Native ESM 지원으로 별도의 번들링 없이 개발 서버를 실행할 수 있으며, ESM이기 때문에 별도의 변환 작업 없이 브라우저에 직접적으로 제공하며, esbuild를 통해 종속성 모듈을 사전 번들링하여 개발 서버의 성능을 향상한다. 또한 pre">
<meta property="og:type" content="blog">
<meta property="og:title" content="차세대 번들러 Vite! 개념은 알고 넘어가자!">
<meta property="og:url" content="https://kdydesign.github.io/2023/11/24/vite-tutorial/index.html">
<meta property="og:site_name" content="Dev. DY">
<meta property="og:description" content="Vite는 ESM 및 Native 언어를 통해서 기존 Javascript 기반의 번들러의 문제점을 해결했다. Native ESM 지원으로 별도의 번들링 없이 개발 서버를 실행할 수 있으며, ESM이기 때문에 별도의 변환 작업 없이 브라우저에 직접적으로 제공하며, esbuild를 통해 종속성 모듈을 사전 번들링하여 개발 서버의 성능을 향상한다. 또한 pre">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://kdydesign.github.io/2023/11/24/vite-tutorial/vite-tutorial-cover.png">
<meta property="og:image" content="https://kdydesign.github.io/2023/11/24/vite-tutorial/esbuild-performance.png">
<meta property="og:image" content="https://kdydesign.github.io/2023/11/24/vite-tutorial/async-chunk.png">
<meta property="og:image" content="https://kdydesign.github.io/2023/11/24/vite-tutorial/parallel-processing.png">
<meta property="og:image" content="https://kdydesign.github.io/2023/11/24/vite-tutorial/bundle-base-dev-server.png">
<meta property="og:image" content="https://kdydesign.github.io/2023/11/24/vite-tutorial/nativeesm-base-dev-server.png">
<meta property="og:image" content="https://kdydesign.github.io/2023/11/24/vite-tutorial/support-browser.png">
<meta property="article:published_time" content="2023-11-24T15:25:07.000Z">
<meta property="article:modified_time" content="2023-12-19T00:27:17.809Z">
<meta property="article:author" content="Dev. DY">
<meta property="article:tag" content="webpack">
<meta property="article:tag" content="vite">
<meta property="article:tag" content="esbuild">
<meta property="article:tag" content="bundler">
<meta property="article:tag" content="native esm">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://kdydesign.github.io/2023/11/24/vite-tutorial/vite-tutorial-cover.png">
<meta property="fb:app_id" content="632708780267324">
    
    
        
    
    
        <meta property="og:image" content="https://kdydesign.github.io/assets/images/auth2.png"/>
    
    
        <meta property="og:image" content="https://kdydesign.github.io/2023/11/24/vite-tutorial/vite-tutorial-cover.png"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://kdydesign.github.io/2023/11/24/vite-tutorial/vite-tutorial-cover.png"/>
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-ygftgvatdpl9jpdo5cpm5oimjqprswzc5pzj1zzozmw86c0kkro1cvz5l7fn.min.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-46198235-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-46198235-1');
    </script>


    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Dev. DY
        </a>
    </div>
    <div class="reading-progress-bar"></div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Öffne den Link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/auth2.png" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Lesen Sie mehr über den Autor"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/auth2.png" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Dev. DY</h4>
                
                    <h5 class="sidebar-profile-bio"><p>Web Front-End Technology Lab</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/kdydesign"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="mailto:kdydesign@gmail.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaOut
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-center">
    
        <h1 class="post-title">
            차세대 번들러 Vite! 개념은 알고 넘어가자!
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2023-11-24T15:25:07+00:00">
	
		    2023-11-24
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/javascript/">javascript</a>, <a class="category-link" href="/categories/javascript/bundler/">bundler</a>, <a class="category-link" href="/categories/javascript/bundler/vite/">vite</a>, <a class="category-link" href="/categories/javascript/bundler/vite/webpack/">webpack</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <div style="display: inline-block; float: right; font-size: 1.3rem;font-weight: 400;">
                <span style="color: #50abf5;">Last Updated: </span>
                <span style="color: #9eabb3;">2023-12-19</span>
            </div>

            <!-- 사각/adsense -->
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-3611154972292213"
                 data-ad-slot="8267110592"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>

            <!-- excerpt -->
<!-- excerpt -->

<p><img src="/2023/11/24/vite-tutorial/vite-tutorial-cover.png" alt="vite-tutorial-cover"></p>
<p>이 포스팅을 보기 전에 <a href="https://kdydesign.github.io/2023/10/08/module-system-bundler/">Javascript 모듈 시스템과 모듈 번들러의 이해</a> 글을 먼저 보기를 권장한다. Vite를 알기 전에 왜 Vite와 같은 빠른 번들러가 지속적으로 출시되는지 알게 된다면 Vite를 이해하는 데 도움이 될 것으로 생각한다.</p>
<p>위 포스팅을 요약하자면,</p>
<p>과거 웹 서비스의 용도는 정보를 전달하는 데 있었기에 그 규모와 복잡도가 낮아 자바스크립트의 모듈화가 필요하지 않았다. 단순하게 순차적 로드 방식으로 자바스크립트를 로드하기만 하면 되었지만, 점차 웹 서비스의 규모가 커지면서 복잡도도 향상되었다. 이에 비례하여 개발&#x2F;관리되어야 하는 자바스크립트의 파일들이 많아지면서 <code>Commonjs</code>, <code>AMD</code>, <code>UMD</code>, <code>ESM</code>과 같은 모듈 시스템이 등장하게 되었다. 많은 기술들의 등장으로 자바스크립트가 모듈화되어 파일의 개수와 규모는 간소해졌지만 수많은 종속된 모듈들이 증가하면서 이에 따라 모듈의 효율성을 높기 위한 도구로 <code>webpack</code>, <code>rollup</code>, <code>parcel</code>과 같은 번들러가 출시되었다. 하지만 이런 번들러들도 커지는 프로젝트 규모를 감당하기 힘든지 성능적인 문제들이 발생하기 시작하였고 이를 해결하고자 Native 번들러가 출시되기 시작한다.</p>
<hr>
<p><a href="https://kdydesign.github.io/2023/10/08/module-system-bundler/">Javascript 모듈 시스템과 모듈 번들러의 이해</a> 포스팅에 이어서 이번 포스팅에서는 <code>Vite</code>에 대해 알고 넘어가려고한다. 해당 포스팅에서는 문법과 같은 기술적인 측면보다는 Vite가 무엇이 왜 Vite와 같은 번들러가 출시되는지 관련된 동향과 함께 개념적으로 파악해보고자 한다.</p>
<h1 id="Native-Bundler"><a href="#Native-Bundler" class="headerlink" title="Native Bundler"></a>Native Bundler</h1><p>Vite를 설명하기 전에 먼저 알아야 할 것은 Native Bundler이다.</p>
<p>결과적으로는 개발 생산성은 번들러로 인해 과거보다 증가하였지만, 웹 기술과 다양한 프레임워크의 등장, 그리고 증가하는 모듈과 애플리케이션의 규모에 따라 결국 다시 개발 생산성은 저하되는 아이러니한 상황이 발생한다.</p>
<p>애플리케이션의 기술 발전과 처리되어야 하는 Javascript 모듈의 개수가 늘어남에 따라 번들링의 성능도 향상이 되어야 하며, 캐싱 및 최적화 작업으로 인하여 개선된 성능이지만 대규모 종속성 크롤링으로 인한 개발 서버의 속도(dev-server)가 저하된다. 또한 종속된 모듈이 많을수록 개발 서버의 가동 시간과 HMR(Hot Module Replacement)의 시간이 증가하며, 다양한 프레임워크가 출시되면서 이를 지원하기 위해 번들러의 설정이 복잡해지고 있다.</p>
<p>이러한 문제점을 해결하기 위해 Native의 성능을 자랑하는 <a target="_blank" rel="noopener" href="https://esbuild.github.io/">esbuild</a>와 같은 Native Bundler가 탄생하게 되었다.</p>
<p>현재까지 출시된 많은 번들러들은 대부분이 Node.js 기반으로 작성된 번들러이다. 이와 다르게 <code>Native Bundler</code>는 <code>Go</code> 또는 <code>Rust</code>와 같은 <strong>Native 언어를 기반으로 둔 번들러</strong>이며, 이에 따라 기존 번들러와 차별되는 성능을 보인다. Vite의 기반인 esbuild 역시 Go 언어로 작성되었으며, SWC의 경우 Rust 기반으로 작성되었다. 이 Native의 또 다른 의미로는 Node.js가 아니기 때문에 싱글 쓰레드인 Node.js와 다르게 멀티 스레드 환경에서 동작하기 때문에 이 또한 기존 번들러와 성능적 차이를 보이는 요인 중 하나이다.</p>
<p><img src="/2023/11/24/vite-tutorial/esbuild-performance.png" alt="esbuild"></p>
<h2 id="번들러로서의-역할"><a href="#번들러로서의-역할" class="headerlink" title="번들러로서의 역할"></a>번들러로서의 역할</h2><p>Native 번들러는 기존 번들러와 성능적인 차별화는 있지만 번들러로서의 역할이 부족하다. 번들러로서의 조건은 빠른 성능만이 아니다. 개발 서버 구동, Sass와 Less, Stylus 등 표준이 아닌 기술들을 실행하고 변환할 수 있는 기능과 같은 기존 번들러들이 제공되는 기능 즉, <code>Dev-Server</code>, <code>Loader</code>, <code>Transpile</code>, <code>Code-Splitting</code>, <code>Tree Shaking</code>, <code>HMR</code>과 같은 기능 지원이 미비하다.</p>
<p>이를 보완하고자 esbuild 기반으로 빠른 성능의 장점과 Rollup의 번들러로서의 기능을 제공하는 <a target="_blank" rel="noopener" href="https://ko.vitejs.dev/">Vite</a>가 등장한다.</p>
<hr>
<h1 id="Vite"><a href="#Vite" class="headerlink" title="Vite"></a>Vite</h1><p><code>Vite</code>는 빠르고 간결한 모던 웹 프로젝트 개발 경험에 초점을 맞춰 탄생한 빌드 도구로 개발 경험을 개선하여 <strong>속도와 성능에 중점을 둔 번들러</strong>이다.</p>
<p>Vite에서 제공하는 사전 번들링은 Go로 작성되어있는 <code>esbuild</code>를 사용하고 있기 때문에 Webpack, parcel과 같은 기존 번들러보다 <strong>10~100배 빠른 속도를 제공</strong>한다. 그리고 번들링 시 Rollup을 기반으로 다양한 빌드 커맨드를 사용하여 개발 경험을 높여준다.</p>
<h2 id="Vite의-특징"><a href="#Vite의-특징" class="headerlink" title="Vite의 특징"></a>Vite의 특징</h2><p>Vite는 ESM 및 Native 언어를 통해서 기존 Javascript 기반의 번들러의 문제점을 해결했다.</p>
<p>Native ESM 지원으로 별도의 번들링 없이 개발 서버를 실행할 수 있으며, ESM이기 때문에 별도의 변환 작업 없이 브라우저에 직접적으로 제공하며, esbuild를 통해 종속성 모듈을 사전 번들링하여 개발 서버의 성능을 향상 시킨다. 또한 preload 스텝을 이용한 병렬적(Parallel)으로 모듈을 로드하기 때문에 빌드에 최적화되어 있다.</p>
<p>요약하자면,</p>
<div class="alert info no-icon"><ul>
<li>Native ESM 지원으로 별도의 번들링 없이 개발 서버 실행 및 브라우저 직접 제공</li>
<li>esbuild를 통해 종속성 모듈을 사전 번들링</li>
<li>preload 스텝을 이용한 병렬적(Parallel)으로 모듈을 로드하여 빌드의 최적화</li>
</ul>
</div>

<p><strong>비동기 방식 모듈 로드 최적화</strong><br><img src="/2023/11/24/vite-tutorial/async-chunk.png" alt="async-chunk-loading-optimization"></p>
<p><strong>병렬처리</strong><br><img src="/2023/11/24/vite-tutorial/parallel-processing.png" alt="parallel-processing"></p>
<h2 id="기존-번들러의-문제점-해결"><a href="#기존-번들러의-문제점-해결" class="headerlink" title="기존 번들러의 문제점 해결"></a>기존 번들러의 문제점 해결</h2><p>Vite는 기존 번들러의 단점인 느린 피드백 루프에 초점을 맞춰 브라우저에서 지원하는 ESM 및 Natvie 언어로 작성되어 기존 문제점을 해결하였다.</p>
<h3 id="Dev-Server의-성능-저하"><a href="#Dev-Server의-성능-저하" class="headerlink" title="Dev-Server의 성능 저하"></a>Dev-Server의 성능 저하</h3><p>Javascript 번들러의 개발 서버 구동은 코드-스타트 방식(최초로 실행되어 이전에 캐싱한 데이터가 없는 경우)으로 애플리케이션 내의 모든 소스 코드에 대해 크롤링, 종속성 그래프를 생성하였고 빌드 작업이 끝나야만 실제로 페이지를 제공하였기 때문에 서버의 구동 시간이 오래 걸렸다. 이것은 애플리케이션의 규모가 커짐에 따라 비례하여 증가하기 때문에 규모가 클수록 더욱 느리다.</p>
<p>Vite는 이를 두 가지 방안으로 나누어 개발 서버의 성능 향상시켰다.</p>
<blockquote>
<p><strong>Dependencies(종속성)의 사전 번들링</strong><br>기존 번들러는 수백개에 이르는 종속된 Javascript 모듈을 비효율적으로 번들링하였고 이로 인해 많은 시간을 소모하였다. Vite의 경우 esbuild를 통해 종속된 모듈을 사전에 번들링하여 webpack, parcel 대비 10-100배 빠르도록 설계되었다.</p>
</blockquote>
<blockquote>
<p><strong>Native ESM을 이용한 소스 코드 제공</strong><br>Vite는 브라우저와 Node.js가 이해할 수 있는 Native ESM으로 소스 코드를 제공하기 때문에 별도의 컴파일링 없이 브라우저를 번들러로 사용하였기 때문에 성능적으로 향상되었다.</p>
</blockquote>
<h3 id="HMR-Hot-Module-Replacement-의-성능-저하"><a href="#HMR-Hot-Module-Replacement-의-성능-저하" class="headerlink" title="HMR(Hot Module Replacement)의 성능 저하"></a>HMR(Hot Module Replacement)의 성능 저하</h3><p>Javascript 번들러는 소스 코드를 업데이트하게 되면 번들링 과정을 다시 걸쳤으며, 이로 인해서 애플리케이션의 규모에 비례하여 HMR 속도도 저하되었다. 이에 반면 Vite의 경우 특정 모듈이 수정될 경우 ESM을 이용하여 수정된 부분만 교체 후 브라우저에서 해당 모듈을 요청하면 변경된 모듈만 전달하고 이과 정을 전부 ESM을 이용하기 때문에 애플리케이션의 규모와 상관없이 일정한 HTML 성능을 유지한다.</p>
<h2 id="Bundle-Base와-ESM-Base의-차이"><a href="#Bundle-Base와-ESM-Base의-차이" class="headerlink" title="Bundle Base와 ESM Base의 차이"></a>Bundle Base와 ESM Base의 차이</h2><p>Bundle Base의 경우 모든 종속성 모듈을 번들링하지만 Native ESM의 경우에는 경로 기반 검색으로 해당 모듈을 사용해야만 처리한다. 다시 말해, Native ESM 기반의 Dev-Server는 경로 기반으로 현재 화면에서 해당 모듈을 사용해야만 처리하기 때문에 배포에 필요한 번들링이나 HMR 속도가 빠른 것이다.</p>
<p><img src="/2023/11/24/vite-tutorial/bundle-base-dev-server.png" alt="bundle-base-dev-server"></p>
<p><img src="/2023/11/24/vite-tutorial/nativeesm-base-dev-server.png" alt="nativeesm-base-dev-server"></p>
<h2 id="번들러의-비교"><a href="#번들러의-비교" class="headerlink" title="번들러의 비교"></a>번들러의 비교</h2><p>지금도 물론 Webpack의 점유율이 높지만, 점차 급격하게 Vite가 상승하는 것을 확인 할 수 있다.</p>
<script type="text/javascript" src="https://ssl.gstatic.com/trends_nrtr/3523_RC02/embed_loader.js"></script> <script type="text/javascript"> trends.embed.renderExploreWidget("TIMESERIES", {"comparisonItem":[{"keyword":"webpac","geo":"","time":"today 5-y"},{"keyword":"rollup","geo":"","time":"today 5-y"},{"keyword":"parcel","geo":"","time":"today 5-y"},{"keyword":"vite","geo":"","time":"today 5-y"}],"category":31,"property":""}, {"exploreQuery":"cat=31&date=today%205-y&q=webpac,rollup,parcel,vite&hl=ko","guestPath":"https://trends.google.co.kr:443/trends/embed/"}); </script>

<h2 id="지원-브라우저"><a href="#지원-브라우저" class="headerlink" title="지원 브라우저"></a>지원 브라우저</h2><p>Native ESM 모듈과 Dynamic Import를 지원하는 브라우저를 대상으로 지원한다. 레거시 브라우저는 프로덕션용으로 빌드 시 @vitejs&#x2F;plugin-legacy를 이용하여 지원할 수 있다.</p>
<p><img src="/2023/11/24/vite-tutorial/support-browser.png" alt="support-browser"></p>
<h2 id="성능테스트"><a href="#성능테스트" class="headerlink" title="성능테스트"></a>성능테스트</h2><p><code>vue-cli</code>와 <code>Vite</code>를 대상으로 <strong>100개의 컴포넌트</strong>를 기준으로 측정한 성능 테스트이다. 측정 대상은 개발서버 구동 속도, HMR, Build 속도이다. 이 테스트 벤치마킹은 개발 환경과 컴포넌트의 개수에 따라 달라지므로 참고만하도록 하자.</p>
<table>
<thead>
<tr>
<th></th>
<th>Dev-Server</th>
<th>HMR(Hot Module Replacement)</th>
<th>Build</th>
</tr>
</thead>
<tbody><tr>
<td>vue-cli</td>
<td>8초</td>
<td>0.6초</td>
<td>8.3초</td>
</tr>
<tr>
<td>vite</td>
<td>0.6초</td>
<td>즉시 반영</td>
<td>4.2초</td>
</tr>
</tbody></table>
<hr>
<p>지금까지 Vite의 개념적인 내용을 파악해 보았다. </p>
<p>Vite의 출시로 인해 Frontend 환경의 큰 변화를 가져다주었다. 지금 당장 실무에 반영해도 되겠냐는 의견이 있었다면, 나는 당장이라도 반영하라고 전하고 싶다. 그만큼 좋은 효과를 뽑아낼 수 있을 것이며, 지속적으로 Vite는 안정화되어 가고 있기 때문에 실무에 반영은 고민하지 않아도 된다고 생각한다. 물론 Vite를 반영하기 위해서는 이에 따른 특정 부분에 대한 마이그레이션이 필요하겠지만, Vite 자체로 가져다주는 효과를 생각한다면 충분히 감안해도 될 것이다.</p>
<p>다음 포스팅은 Vite의 문법과 설정 사항 등의 테크니컬적인 세부 내용을 살펴볼 예정이다.</p>
            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/bundler/" rel="tag">bundler</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/esbuild/" rel="tag">esbuild</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/native-esm/" rel="tag">native esm</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/vite/" rel="tag">vite</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/webpack/" rel="tag">webpack</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2023/12/13/tauri-story/"
                    data-tooltip="TAURI에 대한 개인적인 견해"
                    aria-label="PREVIOUS: TAURI에 대한 개인적인 견해"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2023/10/08/module-system-bundler/"
                    data-tooltip="Javascript 모듈시스템과 모듈번들러의 이해"
                    aria-label="NEXT: Javascript 모듈시스템과 모듈번들러의 이해"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kdydesign.github.io/2023/11/24/vite-tutorial/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://kdydesign.github.io/2023/11/24/vite-tutorial/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://kdydesign.github.io/2023/11/24/vite-tutorial/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2023 Dev. DY. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2023/12/13/tauri-story/"
                    data-tooltip="TAURI에 대한 개인적인 견해"
                    aria-label="PREVIOUS: TAURI에 대한 개인적인 견해"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2023/10/08/module-system-bundler/"
                    data-tooltip="Javascript 모듈시스템과 모듈번들러의 이해"
                    aria-label="NEXT: Javascript 모듈시스템과 모듈번들러의 이해"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kdydesign.github.io/2023/11/24/vite-tutorial/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://kdydesign.github.io/2023/11/24/vite-tutorial/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://kdydesign.github.io/2023/11/24/vite-tutorial/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://kdydesign.github.io/2023/11/24/vite-tutorial/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://kdydesign.github.io/2023/11/24/vite-tutorial/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://kdydesign.github.io/2023/11/24/vite-tutorial/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/auth2.png" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Dev. DY</h4>
        
            <div id="about-card-bio"><p>Web Front-End Technology Lab</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Front-End Developer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Republic of Korea, Seoul
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-ybbbea1lo5q5i0vvbwnprez0gwsh223jyxp6s7vjeupckpwitxu8ms13ttxq.min.js"></script>

<!--SCRIPTS END-->


    
        <script>
          var disqus_config = function() {
            this.page.url = 'https://kdydesign.github.io/2023/11/24/vite-tutorial/';
              
            this.page.identifier = 'vite-tutorial';
              
          };
          (function() {
            var d = document, s = d.createElement('script');
            var disqus_shortname = 'kdydesign';
            s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
    




    </body>
</html>
