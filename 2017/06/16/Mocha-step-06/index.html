
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Dev. DY">
    <title>Mocha Tutorial - Step 06. Mocha 브라우저 구동 - Dev. DY</title>
    <meta name="author" content="Dev. DY">

    <!--ADSENSE-->
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-3611154972292213",
        enable_page_level_ads: true
      });
    </script>
     <!--STYLES END-->

    <link rel="canonical" href="https://kdydesign.github.io/2017/06/16/mocha-step-06/"/>
    
        <meta name="keywords" content="javascript,mocha,chai,unit test,mocha browser,mocha test,javascript mocha">
    
    
        <link rel="icon" href="https://kdydesign.github.io/assets/images/favicon.ico">
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Dev. DY","sameAs":["https://github.com/kdydesign","mailto:kdydesign@gmail.com"],"image":"auth2.png"},"articleBody":"\n\n\n\nStep 01: Hello World!부터 시작으로 지금까지 우리는 $ mocha 명령을 통해 터미널에서 실행하였다. Mocha는 터미널 뿐만 아니라 gulp의 task를 통해 실행도 가능하지만, 이 밖에도 브라우저에서 구동되도록 지원하고 있다.\n우리는 이번 Tutorial에서는 Mocha를 브라우저에서 구동하는 방법을 알아보겠다.\n\nindex.html먼저 html 파일을 생성하도록 하겠다. 추후에 이 페이지를 실행시켜 Mocha를 구동할 것입니다.\n&lt;!DOCTYPE html&gt;&lt;html lang=&quot;ko&quot;&gt;&lt;head&gt;    &lt;meta charset=&quot;UTF-8&quot;&gt;    &lt;title&gt;Mocha Tests&lt;/title&gt;    &lt;link rel=&quot;stylesheet&quot; href=&quot;../node_modules/mocha/mocha.css&quot;&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=&quot;mocha&quot;&gt;&lt;/div&gt;&lt;script src=&quot;../node_modules/mocha/mocha.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;../node_modules/chai/chai.js&quot;&gt;&lt;/script&gt;&lt;script&gt;    mocha.setup(&#123;        ui: &#x27;bdd&#x27;,        reporter: &#x27;html&#x27;    &#125;)&lt;/script&gt;&lt;!-- 테스트 코드 --&gt;&lt;script src=&quot;test.js&quot;&gt;&lt;/script&gt;&lt;script&gt;    mocha.checkLeaks();    mocha.run();&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;\n\n이 코드는 다 알 것이라고 생각된다.코드를 보게 되면 Mocha에 필요한 mocha.css와 mocha.js 그리고 chai.js파일을 불러왔다. 해당 Tutorial에서는 node_modules에 포함된 파일을 불러왔지만 CDN으로 불러올 수 있다.\nCDN은 아래를 참고하자.\nhttps://cdn.rawgit.com/mochajs/mocha/2.2.5/mocha.csshttps://cdn.rawgit.com/mochajs/mocha/2.2.5/mocha.jshttps://cdnjs.cloudflare.com/ajax/libs/chai/4.0.2/chai.min.js\n\n\n이렇게 필요한 소스를 불러온 후 Mocha 설정에 관련된 setup을 진행한다. 그런 다음 테스트 스위트와 테스트 케이스가 포함된 .js파일을 로드한다. 마지막으로 onload 인터페이스와 함께 run()을 통해 Mocha를 실핼하게 되어있다. 우리는 아직 test.js를 정의하지 않았기 때문에 실행을 한다고 하더라고 결과가 나오지는 않는다.\ntest.js이제 index.html파일이 준비되어 있으니 test.js를 정의하도록 하겠다.\nvar expect = chai.expect;describe(&#x27;#Array&#x27;, function () &#123;    var arr;    beforeEach(function () &#123;        arr = [1, 2, 3, 4];    &#125;);    afterEach(function () &#123;        arr = [];    &#125;);    it(&quot;array test&quot;, function () &#123;        expect(arr).to.be.an.instanceOf(Array);        expect(arr).to.be.an(&#x27;array&#x27;).that.is.not.empty;        expect(arr).to.be.that.includes(2);        expect(arr).to.have.lengthOf(4);    &#125;);&#125;);\n\n터미널에서 실행할 때와 다른 점은 chai.expect 부분이다. 브라우저 구동할 때는 이미 index.html에 우리가 Chai를 불러왔기 때문에 별도로 require하지 않아도 된다.테스트의 내용을 잠깐 살펴보면 Array의 타입과 데이터가 존재하는지에 대한 몇 가지 테스트이다. 이제 브라우저를 실행하면 결과가 출력된다.\n\n터미널보다 훨씬 더 보기 편리하다. 해당 테스트 케이스를 클릭하게 되면 테스트를 진행한 코드를 볼 수가 있다. 그리고 상단에는 passes, failures, duration을 확인할 수 있다.테스트가 너무 짧은가? 테스트 케이스를 더 추가하여 다시 확인해 보자.\n아래 코드를 test.js에 이어서 작성하자.\nit(&#x27;array compare&#x27;, function () &#123;    expect(arr).to.eql([1, 2, 3, 4]);&#125;);it(&#x27;array member&#x27;, function (done) &#123;    setTimeout(function () &#123;        expect(arr).to.have.members([4, 3, 2, 1]);        done();    &#125;, 3000);&#125;);\n\n먼저 결과를 보자.\n\narray member테스트의 경우 브라우저에도 3000ms뒤에 실행하는 것을 볼 수 있다. 그리고 Step 04: 비동기 처리에서 배운 비동기로 처리하였으며, 3000ms후에 실행하기에 오류가 발생한다. 발생한 오류에 대한 내용도 출력이 되는 것을 확인할 수 있다.\n외부 모듈 불러오기우리는 Step 05: 외부 모듈 테스트을 통해 외부 모듈을 불러와서 테스트를 작성하였다. 그리고 브라우저 구동에서 외부 모듈을 어떻게 불러오는지 대략적인 설명이 있었다. 그 내용을 자세하게 알아보겠다.Step 05: 외부 모듈 테스트에서 사용한 ModuleSum.js를 사용하겠다.\nfunction sum(num1, num2) &#123;    return num1 + num2;&#125;\n\n동일하게 합계를 구하는 함수이다. 하지만 다른 점은 export를 하지 않았다는 것이다. 단순한 function이다. 이제 이 ModuleSum.js는 index.html에서 불러오도록 하겠다.\n&lt;!-- //... --&gt;&lt;div id=&quot;mocha&quot;&gt;&lt;/div&gt;&lt;script src=&quot;../node_modules/mocha/mocha.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;../node_modules/chai/chai.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;ModuleSum.js&quot;&gt;&lt;/script&gt;&lt;!-- //... --&gt;\n\n불러온 ModuleSum.js를 가지고 테스트 케이스를 작성하겠다. test.js에 테스트 스위트를 추가해야겠다.\ndescribe(&#x27;#ModuleSum&#x27;, function () &#123;    it(&#x27;sum()&#x27;, function () &#123;        expect(sum(1, 2)).to.eql(3);    &#125;);&#125;);\n\n예제 코드\n\nMocha의 브라우저 구동은 매우 다루기 쉽고 작성하기도 쉽다. index.html에 설정만 적당하게 잘 만들어 놓는다면 이보다 편한 것도 없다.그럼 이제 설정을 적당하게 만드는 방법과 Mocha의 설정은 어떻게 하고 어떤 것들이 있는지 확인해보겠다.\n\n더 알아보기Step 07: Options\n","dateCreated":"2017-06-16T00:33:08+00:00","dateModified":"2023-12-19T00:27:17+00:00","datePublished":"2017-06-16T00:33:08+00:00","description":"\nStep 01: Hello World!부터 시작으로 지금까지 우리는 $ mocha 명령을 통해 터미널에서 실행하였다. Mocha는 터미널 뿐만 아니라 gulp의 task를 통해 실행도 가능하지만, 이 밖에도 브라우저에서 구동되도록 지원하고 있다.\n","headline":"Mocha Tutorial - Step 06. Mocha 브라우저 구동","image":["cover.png"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://kdydesign.github.io/2017/06/16/Mocha-step-06/"},"publisher":{"@type":"Organization","name":"Dev. DY","sameAs":["https://github.com/kdydesign","mailto:kdydesign@gmail.com"],"image":"auth2.png","logo":{"@type":"ImageObject","url":"auth2.png"}},"url":"https://kdydesign.github.io/2017/06/16/Mocha-step-06/","keywords":"mocha, javascript, 단위 테스트","thumbnailUrl":"cover.png"}</script>
    <meta name="description" content="Step 01: Hello World!부터 시작으로 지금까지 우리는 $ mocha 명령을 통해 터미널에서 실행하였다. Mocha는 터미널 뿐만 아니라 gulp의 task를 통해 실행도 가능하지만, 이 밖에도 브라우저에서 구동되도록 지원하고 있다.">
<meta property="og:type" content="blog">
<meta property="og:title" content="Mocha Tutorial - Step 06. Mocha 브라우저 구동">
<meta property="og:url" content="https://kdydesign.github.io/2017/06/16/Mocha-step-06/index.html">
<meta property="og:site_name" content="Dev. DY">
<meta property="og:description" content="Step 01: Hello World!부터 시작으로 지금까지 우리는 $ mocha 명령을 통해 터미널에서 실행하였다. Mocha는 터미널 뿐만 아니라 gulp의 task를 통해 실행도 가능하지만, 이 밖에도 브라우저에서 구동되도록 지원하고 있다.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://kdydesign.github.io/2017/06/16/Mocha-step-06/cover.png">
<meta property="og:image" content="https://kdydesign.github.io/2017/06/16/Mocha-step-06/result_thumbnail_01.png">
<meta property="og:image" content="https://kdydesign.github.io/2017/06/16/Mocha-step-06/result_thumbnail_02.png">
<meta property="article:published_time" content="2017-06-16T00:33:08.000Z">
<meta property="article:modified_time" content="2023-12-19T00:27:17.745Z">
<meta property="article:author" content="Dev. DY">
<meta property="article:tag" content="mocha">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="단위 테스트">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://kdydesign.github.io/2017/06/16/Mocha-step-06/cover.png">
<meta property="fb:app_id" content="632708780267324">
    
    
        
    
    
        <meta property="og:image" content="https://kdydesign.github.io/assets/images/auth2.png"/>
    
    
        <meta property="og:image" content="https://kdydesign.github.io/2017/06/16/Mocha-step-06/cover.png"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://kdydesign.github.io/2017/06/16/Mocha-step-06/cover.png"/>
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-ygftgvatdpl9jpdo5cpm5oimjqprswzc5pzj1zzozmw86c0kkro1cvz5l7fn.min.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-46198235-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-46198235-1');
    </script>


    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Dev. DY
        </a>
    </div>
    <div class="reading-progress-bar"></div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Öffne den Link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/auth2.png" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Lesen Sie mehr über den Autor"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/auth2.png" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Dev. DY</h4>
                
                    <h5 class="sidebar-profile-bio"><p>Web Front-End Technology Lab</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/kdydesign"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="mailto:kdydesign@gmail.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaOut
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-center">
    
        <h1 class="post-title">
            Mocha Tutorial - Step 06. Mocha 브라우저 구동
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2017-06-16T00:33:08+00:00">
	
		    2017-06-16
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/javascript/">javascript</a>, <a class="category-link" href="/categories/javascript/Mocha/">Mocha</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <div style="display: inline-block; float: right; font-size: 1.3rem;font-weight: 400;">
                <span style="color: #50abf5;">Last Updated: </span>
                <span style="color: #9eabb3;">2023-12-19</span>
            </div>

            <!-- 사각/adsense -->
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-3611154972292213"
                 data-ad-slot="8267110592"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>

            <!-- excerpt -->
<!-- excerpt -->

<p><img src="/2017/06/16/Mocha-step-06/cover.png" alt="cover"></p>
<p><a href="https://kdydesign.github.io/2017/06/15/Mocha-step-01/">Step 01: Hello World!</a>부터 시작으로 지금까지 우리는 <code>$ mocha</code> 명령을 통해 터미널에서 실행하였다. Mocha는 터미널 뿐만 아니라 <code>gulp</code>의 <code>task</code>를 통해 실행도 가능하지만, 이 밖에도 <code>브라우저에서 구동</code>되도록 지원하고 있다.</p>
<p>우리는 이번 Tutorial에서는 <code>Mocha를 브라우저에서 구동</code>하는 방법을 알아보겠다.</p>
<hr>
<h2 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a>index.html</h2><p>먼저 <code>html</code> 파일을 생성하도록 하겠다. 추후에 이 페이지를 실행시켜 Mocha를 구동할 것입니다.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;ko&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Mocha Tests<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;../node_modules/mocha/mocha.css&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;mocha&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../node_modules/mocha/mocha.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../node_modules/chai/chai.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    mocha.<span class="hljs-title function_">setup</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">ui</span>: <span class="hljs-string">&#x27;bdd&#x27;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">reporter</span>: <span class="hljs-string">&#x27;html&#x27;</span></span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 테스트 코드 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;test.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br>    mocha.checkLeaks();<br>    mocha.run();<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>이 코드는 다 알 것이라고 생각된다.<br>코드를 보게 되면 Mocha에 필요한 <code>mocha.css</code>와 <code>mocha.js</code> 그리고 <code>chai.js</code>파일을 불러왔다. 해당 Tutorial에서는 <code>node_modules</code>에 포함된 파일을 불러왔지만 <code>CDN</code>으로 불러올 수 있다.</p>
<p><code>CDN</code>은 아래를 참고하자.</p>
<div class="alert info no-icon"><p><a target="_blank" rel="noopener" href="https://cdn.rawgit.com/mochajs/mocha/2.2.5/mocha.css">https://cdn.rawgit.com/mochajs/mocha/2.2.5/mocha.css</a><br><a target="_blank" rel="noopener" href="https://cdn.rawgit.com/mochajs/mocha/2.2.5/mocha.js">https://cdn.rawgit.com/mochajs/mocha/2.2.5/mocha.js</a><br><a target="_blank" rel="noopener" href="https://cdnjs.cloudflare.com/ajax/libs/chai/4.0.2/chai.min.js">https://cdnjs.cloudflare.com/ajax/libs/chai/4.0.2/chai.min.js</a></p>
</div>

<p>이렇게 필요한 소스를 불러온 후 Mocha 설정에 관련된 <code>setup</code>을 진행한다. 그런 다음 테스트 스위트와 테스트 케이스가 포함된 <code>.js</code>파일을 로드한다. 마지막으로 <code>onload</code> 인터페이스와 함께 <code>run()</code>을 통해 Mocha를 실핼하게 되어있다. 우리는 아직 <code>test.js</code>를 정의하지 않았기 때문에 실행을 한다고 하더라고 결과가 나오지는 않는다.</p>
<h2 id="test-js"><a href="#test-js" class="headerlink" title="test.js"></a>test.js</h2><p>이제 <code>index.html</code>파일이 준비되어 있으니 <code>test.js</code>를 정의하도록 하겠다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> expect = chai.<span class="hljs-property">expect</span>;<br><br><span class="hljs-title function_">describe</span>(<span class="hljs-string">&#x27;#Array&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> arr;<br><br>    <span class="hljs-title function_">beforeEach</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br>    &#125;);<br><br>    <span class="hljs-title function_">afterEach</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        arr = [];<br>    &#125;);<br><br>    <span class="hljs-title function_">it</span>(<span class="hljs-string">&quot;array test&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">expect</span>(arr).<span class="hljs-property">to</span>.<span class="hljs-property">be</span>.<span class="hljs-property">an</span>.<span class="hljs-title function_">instanceOf</span>(<span class="hljs-title class_">Array</span>);<br>        <span class="hljs-title function_">expect</span>(arr).<span class="hljs-property">to</span>.<span class="hljs-property">be</span>.<span class="hljs-title function_">an</span>(<span class="hljs-string">&#x27;array&#x27;</span>).<span class="hljs-property">that</span>.<span class="hljs-property">is</span>.<span class="hljs-property">not</span>.<span class="hljs-property">empty</span>;<br>        <span class="hljs-title function_">expect</span>(arr).<span class="hljs-property">to</span>.<span class="hljs-property">be</span>.<span class="hljs-property">that</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-number">2</span>);<br>        <span class="hljs-title function_">expect</span>(arr).<span class="hljs-property">to</span>.<span class="hljs-property">have</span>.<span class="hljs-title function_">lengthOf</span>(<span class="hljs-number">4</span>);<br>    &#125;);<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>터미널에서 실행할 때와 다른 점은 <code>chai.expect</code> 부분이다. <code>브라우저 구동</code>할 때는 이미 <code>index.html</code>에 우리가 Chai를 불러왔기 때문에 별도로 <code>require</code>하지 않아도 된다.<br>테스트의 내용을 잠깐 살펴보면 Array의 타입과 데이터가 존재하는지에 대한 몇 가지 테스트이다. 이제 브라우저를 실행하면 결과가 출력된다.</p>
<p><img src="/2017/06/16/Mocha-step-06/result_thumbnail_01.png" alt="result01"></p>
<p>터미널보다 훨씬 더 보기 편리하다. 해당 테스트 케이스를 클릭하게 되면 테스트를 진행한 코드를 볼 수가 있다. 그리고 상단에는 <code>passes</code>, <code>failures</code>, <code>duration</code>을 확인할 수 있다.<br>테스트가 너무 짧은가? 테스트 케이스를 더 추가하여 다시 확인해 보자.</p>
<p>아래 코드를 <code>test.js</code>에 이어서 작성하자.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">it</span>(<span class="hljs-string">&#x27;array compare&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">expect</span>(arr).<span class="hljs-property">to</span>.<span class="hljs-title function_">eql</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);<br>&#125;);<br><br><span class="hljs-title function_">it</span>(<span class="hljs-string">&#x27;array member&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">done</span>) &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">expect</span>(arr).<span class="hljs-property">to</span>.<span class="hljs-property">have</span>.<span class="hljs-title function_">members</span>([<span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]);<br>        <span class="hljs-title function_">done</span>();<br>    &#125;, <span class="hljs-number">3000</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>먼저 결과를 보자.</p>
<p><img src="/2017/06/16/Mocha-step-06/result_thumbnail_02.png" alt="result02"></p>
<p><code>array member</code>테스트의 경우 브라우저에도 <code>3000ms</code>뒤에 실행하는 것을 볼 수 있다. 그리고 <a href="https://kdydesign.github.io/2017/06/16/Mocha-step-04/">Step 04: 비동기 처리</a>에서 배운 비동기로 처리하였으며, <code>3000ms</code>후에 실행하기에 오류가 발생한다. 발생한 오류에 대한 내용도 출력이 되는 것을 확인할 수 있다.</p>
<h2 id="외부-모듈-불러오기"><a href="#외부-모듈-불러오기" class="headerlink" title="외부 모듈 불러오기"></a>외부 모듈 불러오기</h2><p>우리는 <a href="https://kdydesign.github.io/2017/06/16/Mocha-step-05/">Step 05: 외부 모듈 테스트</a>을 통해 외부 모듈을 불러와서 테스트를 작성하였다. 그리고 <code>브라우저 구동</code>에서 외부 모듈을 어떻게 불러오는지 대략적인 설명이 있었다. 그 내용을 자세하게 알아보겠다.<br><a href="https://kdydesign.github.io/2017/06/16/Mocha-step-05/">Step 05: 외부 모듈 테스트</a>에서 사용한 <code>ModuleSum.js</code>를 사용하겠다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">num1, num2</span>) &#123;<br>    <span class="hljs-keyword">return</span> num1 + num2;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>동일하게 합계를 구하는 함수이다. 하지만 다른 점은 <code>export</code>를 하지 않았다는 것이다. 단순한 <code>function</code>이다. 이제 이 <code>ModuleSum.js</code>는 <code>index.html</code>에서 불러오도록 하겠다.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- //... --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;mocha&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../node_modules/mocha/mocha.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../node_modules/chai/chai.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;ModuleSum.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-comment">&lt;!-- //... --&gt;</span><br></code></pre></td></tr></table></figure>

<p>불러온 <code>ModuleSum.js</code>를 가지고 테스트 케이스를 작성하겠다. <code>test.js</code>에 테스트 스위트를 추가해야겠다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">describe</span>(<span class="hljs-string">&#x27;#ModuleSum&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">it</span>(<span class="hljs-string">&#x27;sum()&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">expect</span>(<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)).<span class="hljs-property">to</span>.<span class="hljs-title function_">eql</span>(<span class="hljs-number">3</span>);<br>    &#125;);<br>&#125;);<br></code></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/kdydesign/Mocha-Tutorial/tree/master/step06-Running%20Mocha%20in%20the%20Browser">예제 코드</a></p>
<hr>
<p>Mocha의 <code>브라우저 구동</code>은 매우 다루기 쉽고 작성하기도 쉽다. <code>index.html</code>에 설정만 적당하게 잘 만들어 놓는다면 이보다 편한 것도 없다.<br>그럼 이제 설정을 적당하게 만드는 방법과 Mocha의 설정은 어떻게 하고 어떤 것들이 있는지 확인해보겠다.</p>
<hr>
<div class="alert more no-icon"><p><strong>더 알아보기</strong><br><a href="https://kdydesign.github.io/2017/06/19/Mocha-step-07/">Step 07: Options</a></p>
</div>
            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/mocha/" rel="tag">mocha</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/%EB%8B%A8%EC%9C%84-%ED%85%8C%EC%8A%A4%ED%8A%B8/" rel="tag">단위 테스트</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2017/06/19/Mocha-step-07/"
                    data-tooltip="Mocha Tutorial - Step 07. Mocha Options"
                    aria-label="PREVIOUS: Mocha Tutorial - Step 07. Mocha Options"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2017/06/16/Mocha-step-05/"
                    data-tooltip="Mocha Tutorial - Step 05. 외부 모듈 테스트"
                    aria-label="NEXT: Mocha Tutorial - Step 05. 외부 모듈 테스트"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kdydesign.github.io/2017/06/16/Mocha-step-06/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://kdydesign.github.io/2017/06/16/Mocha-step-06/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://kdydesign.github.io/2017/06/16/Mocha-step-06/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2023 Dev. DY. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2017/06/19/Mocha-step-07/"
                    data-tooltip="Mocha Tutorial - Step 07. Mocha Options"
                    aria-label="PREVIOUS: Mocha Tutorial - Step 07. Mocha Options"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2017/06/16/Mocha-step-05/"
                    data-tooltip="Mocha Tutorial - Step 05. 외부 모듈 테스트"
                    aria-label="NEXT: Mocha Tutorial - Step 05. 외부 모듈 테스트"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://kdydesign.github.io/2017/06/16/Mocha-step-06/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://kdydesign.github.io/2017/06/16/Mocha-step-06/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://kdydesign.github.io/2017/06/16/Mocha-step-06/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://kdydesign.github.io/2017/06/16/Mocha-step-06/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://kdydesign.github.io/2017/06/16/Mocha-step-06/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://kdydesign.github.io/2017/06/16/Mocha-step-06/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/auth2.png" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Dev. DY</h4>
        
            <div id="about-card-bio"><p>Web Front-End Technology Lab</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Front-End Developer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Republic of Korea, Seoul
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-ybbbea1lo5q5i0vvbwnprez0gwsh223jyxp6s7vjeupckpwitxu8ms13ttxq.min.js"></script>

<!--SCRIPTS END-->


    
        <script>
          var disqus_config = function() {
            this.page.url = 'https://kdydesign.github.io/2017/06/16/Mocha-step-06/';
              
            this.page.identifier = 'step06mochabrowser';
              
          };
          (function() {
            var d = document, s = d.createElement('script');
            var disqus_shortname = 'kdydesign';
            s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
    




    </body>
</html>
